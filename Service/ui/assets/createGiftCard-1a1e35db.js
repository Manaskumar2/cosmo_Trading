import{r as a,d as v,h as S,j as e}from"./index-89f7447c.js";import{a as y}from"./axios-4a70c6fc.js";import{I as G,_ as x}from"./index-45067eb1.js";import{A as N,S as b}from"./Side-efab4eac.js";const h={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function E(){const[o,i]=a.useState(null),[p,n]=a.useState(!1),r=a.useRef(null);a.useEffect(()=>{const t=localStorage.getItem("gift");if(t){const s=JSON.parse(t);i(s)}else i(null)},[]);const j=v(S),[c,d]=a.useState(""),[l,u]=a.useState(0),[m,f]=a.useState(0),C=async()=>{try{let t=j.authToken;const s=await y.post("https://cosmotrade.live/api/admin/giftCode",{code:c,maxClaims:l,amount:m},{headers:{Authorization:`Bearer ${t}`}});if(s.status===200)return localStorage.setItem("gift",JSON.stringify(s.data.data)),i(s.data.data),d(""),f(0),u(0),x.success("Successfully Created Gift Card",{...h}),s}catch(t){const s=t.response?t.response.data.message:t.message;x.error(s||"Gift card not Found.",{...h})}},g=()=>{r.current&&(r.current.select(),document.execCommand("copy"),n(!0),setTimeout(()=>{n(!1)},2e3))};return e.jsxs("div",{children:[e.jsx(N,{}),e.jsxs("div",{children:[e.jsx(b,{}),e.jsxs("div",{className:"giftCardPage",children:[e.jsx(G,{}),e.jsxs("div",{className:"gift-body",children:[e.jsxs("div",{className:"box",children:[e.jsx("h6",{children:"Create Gift Card"}),e.jsx("p",{children:"Enter Gift card Name"}),e.jsx("input",{type:"text",value:c,onChange:t=>{d(t.target.value)}}),e.jsx("p",{children:"Enter Gift Amount"}),e.jsx("input",{type:"text",value:m,onChange:t=>{f(t.target.value)}}),e.jsx("p",{children:"Enter How many Person You Want to Share"}),e.jsx("input",{type:"text",value:l,onChange:t=>{u(t.target.value)}}),e.jsx("div",{className:"row gift-btn",children:e.jsx("button",{className:"col-12",onClick:C,children:"SUBMIT"})})]}),e.jsx("div",{className:"Gift-code",children:o&&e.jsxs("div",{className:"box",children:[e.jsx("h6",{children:"Your Gift Card"}),e.jsxs("div",{className:"gift-code-row",children:[e.jsx("h5",{children:" Gift Code : "}),e.jsx("input",{type:"text",value:o.code,readOnly:!0,ref:r}),e.jsx("button",{onClick:g,children:p?"Copied":"Copy"})]}),e.jsxs("div",{className:"gift-code-row",children:[e.jsx("h5",{children:" Amount : "}),e.jsx("p",{children:o.amount})]}),e.jsxs("div",{className:"gift-code-row",children:[e.jsx("h5",{children:" Maximum Person Claim : "}),e.jsx("p",{children:o.maxClaims})]})]})})]})]})]})]})}export{E as default,h as toastProps};
