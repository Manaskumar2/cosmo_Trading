import{r,d as D,A as w,j as e,L as S}from"./index-c07b4f06.js";import{M as b}from"./index-88f85111.js";/* empty css                        */import{b as I}from"./back-button 1-53e9bab3.js";import{a as m}from"./axios-4a70c6fc.js";import{I as U,_ as n}from"./index-af735c87.js";import"./index-df7b7e64.js";import"./react-lifecycles-compat.es-22c986ff.js";const k="/assets/receive-bb5ee324.svg",A="/assets/send-989cf09b.svg",o={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function P(){const[u,f]=r.useState(null),[l,g]=r.useState(null),a=D(w),[c,h]=r.useState(0),[i,p]=r.useState(""),[j,d]=r.useState(!1),v=async()=>{try{let s=a.authToken;(await m.post("https://cosmotrade.live/api/walletToWallet",{amount:i,receiverUID:c},{headers:{Authorization:`Bearer ${s}`}})).status===200&&(n.success("Amount successfully Sent!",{...o}),p(""),h(0),d(!1))}catch(s){if(s.response&&s.response.status===400){const t="You cannot send money until remaining bet amount 0";n.error(t,{...o})}else{const t=s.response?s.response.data.message:s.message;n.error(t||"Something went wrong",{...o})}}},x=()=>{d(!1)},y=async()=>{try{let s=a.authToken;const t=await m.get(`https://cosmotrade.live/api/getUserProfile/${c} `,{headers:{Authorization:`Bearer ${s}`}});if(t.status===200)return g(t.data),d(!0),t}catch(s){const t=s.response?s.response.data.message:s.message;n.error(t||"Something went wrong",{...o})}},N=async()=>{try{let s=a.authToken;const t=await m.get("https://cosmotrade.live/api/getwalletToWallet ",{headers:{Authorization:`Bearer ${s}`}});if(t.status===200)return console.log(t),f(t.data),t}catch(s){const t=s.response?s.response.data.message:s.message;n.error(t||"Something went wrong",{...o})}};return r.useEffect(()=>{N()},[]),e.jsxs("div",{className:"security",children:[e.jsx(U,{}),e.jsx("div",{className:"container-fluid PromoNav",children:e.jsxs("div",{className:"row",children:[e.jsx(S,{to:"/profile",className:"col-2",children:e.jsx("img",{src:I,alt:""})}),e.jsx("div",{className:"col-8",children:"Wallet To Wallet"}),e.jsx("div",{className:"col-2"})]})}),e.jsxs("div",{className:"sucurity-body ",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsxs("div",{className:"security-form ",children:[e.jsx("p",{style:{color:"#fff",marginTop:"1rem"},children:"UID"}),e.jsx("input",{type:"text",placeholder:"Enter UID",value:c,onChange:s=>{h(s.target.value)}}),e.jsx("p",{style:{color:"#fff",marginTop:"1rem"},children:"Amount"}),e.jsx("input",{type:"text",placeholder:"Enter Amount",value:i,onChange:s=>{p(s.target.value)}}),e.jsx("button",{onClick:()=>{y()},children:"SUBMIT"})]}),e.jsx("div",{className:"container",style:{margin:"2.5rem 0"},children:u&&u.data.map((s,t)=>e.jsxs("div",{className:"row transaction-data",children:[e.jsx("div",{className:"col-3",children:a.UID===s.sender?e.jsx("img",{src:A,alt:""}):e.jsx("img",{src:k,alt:""})}),e.jsxs("div",{className:"col-6",children:["  ",e.jsx("p",{style:{textAlign:"left"},children:a.UID===s.sender?s.receiver:s.sender}),e.jsx("p",{style:{fontSize:".8rem",textAlign:"left"},children:new Date(s.createdAt).toLocaleString()})]}),e.jsx("div",{className:`col-3 ${a.UID===s.sender?"text-red":"text-green"}`,children:a.UID===s.sender?e.jsxs("span",{children:["- ₹",s.amount]}):e.jsxs("span",{className:"text-green",children:["+ ₹",s.amount]})})]},t))})]}),e.jsx(b,{isOpen:j,onRequestClose:x,children:e.jsxs("div",{className:"modal-body-w2w",children:[e.jsx("div",{children:l&&e.jsxs("div",{className:"userDetaisW2W",children:[e.jsx("h2",{children:"User Details"}),e.jsxs("p",{children:["Name: ",l.data.userDetails.name]}),e.jsxs("p",{children:["UID: ",l.data.userDetails.UID]}),e.jsxs("p",{children:["Phone no: ",l.data.userDetails.phoneNumber]}),e.jsxs("p",{children:["Amount: ",i]})]})}),e.jsx("button",{className:"confirm",onClick:v,children:"Confirm Submit"}),e.jsx("button",{className:"close",onClick:x,children:"Close"})]})})]})}export{P as default,o as toastProps};
