import{r as i,d as g,A as w,j as e}from"./index-824af789.js";import{A as k,S as v}from"./Side-e282d92b.js";import{a as o}from"./axios-4a70c6fc.js";import{A as c}from"./Accordion-03906ea4.js";import{I as D,_ as N}from"./index-9485cae4.js";import"./TransitionWrapper-9fca4408.js";const y={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function W(){const[n,u]=i.useState(null),[h,p]=i.useState(null),[r,x]=i.useState(null),d=g(w),j=async s=>{try{let a=d.authToken;const t=await o.get(`https://cosmotrade.live/api//admin/getUserDetails/${s}`,{headers:{Authorization:`Bearer ${a}`}});if(t.status===200)return console.log(t),u(t),t}catch(a){a.response?a.response.data.message:a.message}},f=async()=>{try{let s=d.authToken;const a=await o.get("https://cosmotrade.live/api//admin/getWithdrawRequest",{headers:{Authorization:`Bearer ${s}`}});if(a.status===200)return console.log(a),p(a.data),a}catch(s){s.response?s.response.data.message:s.message}},A=async s=>{try{let a=d.authToken;const t=await o.get(`https://cosmotrade.live/api//admin/getbankDetails/${s}`,{headers:{Authorization:`Bearer ${a}`}});if(t.status===200)return console.log(t),x(t),t}catch(a){a.response?a.response.data.message:a.message}},m=async(s,a)=>{try{let t=d.authToken;const l=await o.put(`https://cosmotrade.live/api//admin/conformWithdrawRequest/${s}`,{newStatus:a},{headers:{Authorization:`Bearer ${t}`}});if(l.status===200)return N.success("Withdraw request confirmed",{...y}),console.log(l),l}catch(t){t.response?t.response.data.message:t.message}};return i.useEffect(()=>{f()},[]),e.jsxs("div",{children:[e.jsx(k,{}),e.jsxs("div",{className:"flex-div",children:[e.jsx(v,{}),e.jsxs("div",{className:"admin-rightSection",children:[e.jsx(D,{}),h&&h.data.map((s,a)=>e.jsx(c,{children:e.jsxs(c.Item,{eventKey:a,children:[e.jsx(c.Header,{onClick:()=>{A(s.userId),j(s.userId)},children:e.jsxs("div",{className:"admin-Widthdraw-box",children:[e.jsxs("p",{children:["User Id : ",s.userId]}),e.jsxs("p",{children:["Amount : ",s.withdrawAmount]}),e.jsxs("p",{children:["Status : ",s.status]})]})}),e.jsx(c.Body,{children:e.jsxs("div",{className:"flex-div",children:[e.jsxs("div",{className:"admin-withdraw-data",children:[e.jsx("h3",{children:"User Details"}),e.jsxs("p",{children:["UID: ",n&&n.data.data.userDetails.UID]}),e.jsxs("p",{children:["Phone: ",n&&n.data.data.userDetails.phoneNumber]}),e.jsxs("p",{children:["Wallet Amount: ",n&&n.data.data.userDetails.walletAmount]}),e.jsxs("p",{children:["Commission Amount: ",n&&n.data.data.userDetails.commissionAmount]}),e.jsxs("p",{children:["Winning Amount: ",n&&n.data.data.userDetails.winningAmount]}),e.jsxs("p",{children:["Downline Count: ",n&&n.data.data.userDetails.downline.length]})]}),e.jsxs("div",{style:{marginLeft:"6rem"},children:[e.jsx("h3",{children:"Bank Data"}),r&&e.jsxs("div",{className:"admin-withdraw-data",children:[e.jsxs("p",{children:["Account Holder Name: ",r.data.data.accountHolderName]}),e.jsxs("p",{children:["Email: ",r.data.data.email]}),e.jsxs("p",{children:["Bank Name: ",r.data.data.bankName]}),e.jsxs("p",{children:["Account No: ",r.data.data.bankAccountNo]}),e.jsxs("p",{children:["Ifsc Code: ",r.data.data.ifscCode]}),e.jsxs("p",{children:["Branch Address: ",r.data.data.bankBranchAddress]}),e.jsxs("p",{children:["City: ",r.data.data.city]}),e.jsxs("div",{className:"flex-div",children:[e.jsx("button",{onClick:()=>{m(s._id,"confirmed")},className:"prime-approve-btn",children:"Approve"})," ",e.jsx("button",{onClick:()=>{m(s._id,"cancelled")},className:"prime-reject-btn",children:"Reject"})]})]})]})]})})]})},a))]})]})]})}export{W as default,y as toastProps};
