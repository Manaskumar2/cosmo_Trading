import{e as C,r as t,R as k,u as I,a as B,j as e,L}from"./index-7972bc9e.js";import{l as U}from"./Cosmo Logo-1a4c0b51.js";import{I as A,_ as h}from"./index-fce60d6f.js";import{a as _}from"./axios-4a70c6fc.js";import{U as E}from"./Uid-a4ee3a70.js";const $="/assets/computer-650931f8.svg",T="/assets/user-5c129732.svg",x={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function q(){const[p,g]=t.useState(!1),[z,b]=k(E),[i,o]=t.useState(""),[j,c]=t.useState(""),[l,d]=t.useState(""),[r,m]=t.useState(""),[u,y]=t.useState(!1),[n,v]=t.useState(!1),f=I(),N=B();t.useEffect(()=>{const a=new URLSearchParams(N.search).get("referral");a&&d(a)},[N.search]);const S=()=>{f("/signIn")},w=async s=>{if(s.preventDefault(),!i||!r||!l||!n){h.error("Phone Number, Password, Referral Code, and Agreement are required",{...x});return}try{g(!0);const a=await _.post("https://cosmotrade.live/api/SignUp",{userName:j,phoneNumber:i,password:r,referralCode:l});if(a.status===201)return h.success("Registration Successful",{...x}),sessionStorage.setItem("password",r),b(a),o(""),m(""),d(""),c(""),v(!1),setTimeout(()=>{f("/registered")},1500),a}catch(a){const P=a.response?a.response.data.message:a.message;h.error(P||"Something went wrong",{...x}),o(""),m(""),c("")}finally{g(!1)}},R=()=>{v(!n)};return e.jsx("div",{className:"desktop",children:e.jsx("div",{className:"register",children:e.jsxs("div",{className:"wrapper",children:[e.jsx("div",{className:"logo-container",children:e.jsx("img",{src:U,alt:"",className:"logo"})}),e.jsxs("div",{className:"signup-container",children:[e.jsx("h3",{className:"title",children:"Register"}),e.jsx(A,{}),e.jsxs("form",{onSubmit:w,className:"container-fluid",children:[e.jsx("div",{className:"inputBox",children:e.jsxs("div",{className:"inputBoxInner",children:[e.jsx("div",{className:"front",children:e.jsx("img",{src:T,alt:""})}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Name",onChange:s=>c(s.target.value),value:j})})]})}),e.jsxs("div",{className:"inputBox",children:[e.jsxs("div",{className:"inputBoxInner",children:[e.jsx("div",{className:"front",children:"+91"}),e.jsx("div",{children:e.jsx("input",{type:"number",placeholder:"Phone Number",onChange:s=>o(s.target.value),value:i})})]}),e.jsx("div",{className:"back-icon",children:e.jsx("i",{className:"icon-mobile"})})]}),e.jsxs("div",{className:"inputBox",children:[e.jsxs("div",{className:"inputBoxInner",children:[e.jsx("div",{className:"front",children:e.jsx("i",{className:"icon-lock"})}),e.jsx("div",{children:e.jsx("input",{type:u?"text":"password",placeholder:"Password",onChange:s=>m(s.target.value),value:r})})]}),e.jsx("div",{className:"back-icon",onClick:()=>y(!u),children:e.jsx("i",{className:"icon-eye"})})]}),e.jsx("div",{className:"inputBox",children:e.jsxs("div",{className:"inputBoxInner",children:[e.jsx("div",{className:"front",children:e.jsx("img",{src:$,alt:""})}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Referral Code",onChange:s=>d(s.target.value),value:l})})]})}),e.jsx("div",{className:"policy",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:n,onChange:R})," ","I Agree ",e.jsx(L,{to:"/terms&condition",children:"Privacy Policy"})]})}),e.jsxs("div",{className:"btn-container",children:[e.jsx("button",{className:"top-btn",type:"submit",disabled:!n||p,children:p?"Registering...":"Register"}),e.jsx("button",{className:"bot-btn",onClick:S,children:"Already have an account, Log in"})]})]})]})]})})})}const J=C.memo(q);export{J as default,x as toastProps};
