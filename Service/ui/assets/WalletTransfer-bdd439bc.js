import{r as l,u as M,d as P,A as $,j as e,L as R}from"./index-70e3bcd7.js";import{M as W}from"./index-6d27d57d.js";/* empty css                        */import{b as z}from"./back-button 1-53e9bab3.js";import{a as u}from"./axios-4a70c6fc.js";import{I as B,_ as i}from"./index-4ecd74d8.js";import{r as y,l as D}from"./RightArr-753548b2.js";import"./index-5ace8bc0.js";import"./react-lifecycles-compat.es-22c986ff.js";const T="/assets/receive-bb5ee324.svg",w="/assets/send-989cf09b.svg",d={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function J(){const[j,S]=l.useState(1),[r,c]=l.useState(1),p=M(),[a,k]=l.useState(null),[o,I]=l.useState(null),n=P($),[h,g]=l.useState(0),[m,v]=l.useState(""),[U,x]=l.useState(!1),f=s=>{S(s)},C=async()=>{try{let s=n.authToken;(await u.post("https://cosmotrade.live/api/walletToWallet",{amount:m,receiverUID:h},{headers:{Authorization:`Bearer ${s}`}})).status===200&&(i.success("Amount successfully Sent!",{...d}),v(""),g(0),x(!1),b())}catch(s){if(s.response&&s.response.status===400){const t="You cannot send money until remaining bet amount 0";i.error(t,{...d})}else{const t=s.response?s.response.data.message:s.message;i.error(t||"Something went wrong",{...d})}}},N=()=>{x(!1)},A=async()=>{try{let s=n.authToken;const t=await u.get(`https://cosmotrade.live/api/getUserProfile/${h} `,{headers:{Authorization:`Bearer ${s}`}});if(t.status===200)return I(t.data),x(!0),t}catch(s){const t=s.response?s.response.data.message:s.message;i.error(t||"Something went wrong",{...d})}},b=async()=>{try{let s=n.authToken;const t=await u.get("https://cosmotrade.live/api/getwalletToWallet",{params:{page:r},headers:{Authorization:`Bearer ${s}`}});if(t.status===200)return k(t.data.data),console.log(t.data.data),t}catch(s){if(s.response.status===403)return p("/signIn"),response;s.response?s.response.data.message:s.message}};return l.useEffect(()=>{b()},[r]),e.jsxs("div",{className:"security",children:[e.jsx(B,{}),e.jsx("div",{className:"container-fluid PromoNav",children:e.jsxs("div",{className:"row",children:[e.jsx(R,{onClick:()=>{p(-1)},className:"col-2",children:e.jsx("img",{src:z,alt:""})}),e.jsx("div",{className:"col-8",children:"Wallet To Wallet"}),e.jsx("div",{className:"col-2"})]})}),e.jsxs("div",{className:"sucurity-body ",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[e.jsxs("div",{className:"security-form ",children:[e.jsx("p",{style:{color:"#fff",marginTop:"1rem"},children:"UID"}),e.jsx("input",{type:"text",placeholder:"Enter UID",value:h,onChange:s=>{g(s.target.value)}}),e.jsx("p",{style:{color:"#fff",marginTop:"1rem"},children:"Amount"}),e.jsx("input",{type:"text",placeholder:"Enter Amount",value:m,onChange:s=>{v(s.target.value)}}),e.jsx("button",{onClick:()=>{A()},children:"SUBMIT"})]}),e.jsx("div",{className:"container record-btn-container wallet2wallet btn-sbtn",children:e.jsxs("div",{className:"row",children:[a&&e.jsxs("div",{className:"col-6 total-transection ",children:[e.jsx("h5",{children:"Total Sent"}),e.jsxs("h5",{children:["Rs: ",a.totalSent]})]}),a&&e.jsxs("div",{className:"col-6 total-transection",children:[e.jsx("h5",{children:"Total Receive"}),e.jsxs("h5",{children:["Rs: ",a.totalReceived]})]})]})}),e.jsx("div",{className:"container record-btn-container wallet2wallet",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsx("button",{className:"sendBtn",onClick:()=>{f(1)},children:e.jsx("p",{children:"Send"})})}),e.jsx("div",{className:"col-6",children:e.jsx("button",{className:"receive-btn",onClick:()=>{f(2)},children:e.jsx("p",{children:"Receive"})})})]})}),j===1&&e.jsxs("div",{className:"container",style:{margin:"2.5rem 0"},children:[a&&a.senderTransactions.map((s,t)=>e.jsxs("div",{className:"row transaction-data",children:[e.jsx("div",{className:"col-3",children:n.UID===s.sender?e.jsx("img",{src:w,alt:""}):e.jsx("img",{src:T,alt:""})}),e.jsxs("div",{className:"col-6",children:[e.jsx("p",{style:{textAlign:"left"},children:n.UID===s.sender?s.receiver:s.sender}),e.jsx("p",{style:{fontSize:".8rem",textAlign:"left"},children:new Date(s.createdAt).toLocaleString()})]}),e.jsx("div",{className:`col-3 ${n.UID===s.sender?"text-red":"text-green"}`,children:n.UID===s.sender?e.jsxs("span",{children:["- ₹",s.amount]}):e.jsxs("span",{className:"text-green",children:["+ ₹",s.amount]})})]},t)),e.jsxs("div",{className:"pagination-buttons-p2p",children:[e.jsxs("button",{onClick:()=>{c(Math.max(r-1,1))},children:["  ",e.jsx("img",{src:y,alt:""})," "]}),a&&e.jsxs("div",{children:[r,"/",a.totalPages.senderTransactions]}),e.jsxs("button",{onClick:()=>{c(Math.min(r+1,a.totalPages.senderTransactions))},children:["  ",e.jsx("img",{src:D,alt:""})," "]})]})]}),j===2&&e.jsxs("div",{className:"container",style:{margin:"2.5rem 0"},children:[a&&a.receiverTransactions.map((s,t)=>e.jsxs("div",{className:"row transaction-data",children:[e.jsx("div",{className:"col-3",children:n.UID===s.sender?e.jsx("img",{src:w,alt:""}):e.jsx("img",{src:T,alt:""})}),e.jsxs("div",{className:"col-6",children:[e.jsx("p",{style:{textAlign:"left"},children:n.UID===s.sender?s.receiver:s.sender}),e.jsx("p",{style:{fontSize:".8rem",textAlign:"left"},children:new Date(s.createdAt).toLocaleString()})]}),e.jsx("div",{className:`col-3 ${n.UID===s.sender?"text-red":"text-green"}`,children:n.UID===s.sender?e.jsxs("span",{children:["- ₹",s.amount]}):e.jsxs("span",{className:"text-green",children:["+ ₹",s.amount]})})]},t)),e.jsxs("div",{className:"pagination-buttons-p2p",children:[e.jsxs("button",{onClick:()=>{c(Math.max(r-1,1))},children:["  ",e.jsx("img",{src:y,alt:""})," "]}),a&&e.jsxs("div",{children:[r,"/",a.totalPages.receiverTransactions]}),e.jsxs("button",{onClick:()=>{c(Math.min(r+1,a.totalPages.receiverTransactions))},children:["  ",e.jsx("img",{src:D,alt:""})," "]})]})]})]}),e.jsx(W,{isOpen:U,onRequestClose:N,children:e.jsxs("div",{className:"modal-body-w2w",children:[e.jsx("div",{children:o&&e.jsxs("div",{className:"userDetaisW2W",children:[e.jsx("h2",{children:"User Details"}),e.jsxs("p",{children:["Name: ",o.data.userDetails.name]}),e.jsxs("p",{children:["UID: ",o.data.userDetails.UID]}),e.jsxs("p",{children:["Phone no: ",o.data.userDetails.phoneNumber]}),e.jsxs("p",{children:["Amount: ",m]})]})}),e.jsx("button",{className:"confirm",onClick:C,children:"Confirm Submit"}),e.jsx("button",{className:"close",onClick:N,children:"Close"})]})})]})}export{J as default,d as toastProps};
