import{r as l,d as f,A,a as P,j as e}from"./index-d1178d9d.js";import{A as S,S as k}from"./Side-80602a0b.js";import{a as u}from"./axios-4a70c6fc.js";import{P as I}from"./Premium-9bd0192c.js";import{A as i}from"./Accordion-69061c00.js";import{I as N,_ as p}from"./index-472e190f.js";import"./TransitionWrapper-25dd7d98.js";import"./react-lifecycles-compat.es-22c986ff.js";const h={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function z(){const[r,c]=l.useState("approved"),[o,g]=l.useState(null),d=f(A),[m,v]=P(I),j=async()=>{try{let s=d.authToken;const t=await u.get(`https://cosmotrade.live/api/admin/getPremiumRequest?status=${r}`,{headers:{Authorization:`Bearer ${s}`}});if(t.status===200)return console.log(t),v(t.data),t}catch(s){s.response?s.response.data.message:s.message}},b=async s=>{try{let t=d.authToken;const a=await u.get(`https://cosmotrade.live/api/admin/getUserDetails/${s}`,{headers:{Authorization:`Bearer ${t}`}});if(a.status===200)return console.log(a),g(a),a}catch(t){const a=t.response?t.response.data.message:t.message;p.error(a||"Something went wrong",{...h})}},x=async(s,t)=>{try{let a=d.authToken;const n=await u.put(`https://cosmotrade.live/api/admin/updatePremiumRequest/${s}`,{adminStatus:t},{headers:{Authorization:`Bearer ${a}`}});if(n.status===200)return p.success("Premium Activated !",{...h}),console.log(n),j(),setTransactionId(""),n}catch(a){const n=a.response?a.response.data.message:a.message;p.error(n||"Something went wrong",{...h})}};return l.useEffect(()=>{j()},[r]),e.jsxs("div",{children:[e.jsx(S,{}),e.jsxs("div",{className:"flex-div",children:[e.jsx(k,{}),e.jsxs("div",{className:"admin-rightSection",children:[e.jsxs("div",{className:"row tab-btns",children:[e.jsx("button",{className:r==="approved"?"col-4 active-tab-btn-adminPage":"col-4 tab-btn",onClick:()=>{c("approved")},children:"Approved List"}),e.jsx("button",{className:r==="pending"?"col-4 active-tab-btn-adminPage":"col-4 tab-btn",onClick:()=>{c("pending")},children:"Pending List"}),e.jsx("button",{className:r==="rejected"?"col-4 active-tab-btn-adminPage":"col-4 tab-btn",onClick:()=>{c("rejected")},children:"Reject List"})]}),e.jsx(N,{}),m&&m.data&&m.data.map((s,t)=>e.jsx(i,{children:e.jsxs(i.Item,{eventKey:"0",children:[e.jsxs(i.Header,{onClick:()=>{b(s.userId)},className:"admin-prime-head",children:[e.jsxs("div",{children:["user Id: ",s.userId]}),e.jsxs("div",{children:["Amount: ",s.amount]}),e.jsxs("div",{children:["Status: ",s.status]})]}),e.jsxs(i.Body,{children:[e.jsxs("p",{children:["UID: ",o&&o.data.data.userDetails.UID]}),e.jsxs("p",{children:["Phone: ",o&&o.data.data.userDetails.phoneNumber]}),e.jsx("button",{className:"prime-approve-btn",onClick:()=>{x(s.userId,"approved")},children:"Approve"}),e.jsx("button",{className:"prime-reject-btn",onClick:()=>{x(s.userId,"rejected")},children:"Reject"})]})]})},t))]})]})]})}export{z as default,h as toastProps};
