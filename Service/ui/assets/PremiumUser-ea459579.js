import{r as m,d as x,A as p,a as j,j as e}from"./index-cbf14f70.js";import{A as f,S as g}from"./Side-ed4e3304.js";import{a as c}from"./axios-4a70c6fc.js";/* empty css             */import{P as b}from"./Premium-3b30fbe0.js";/* empty css                   */import{I as A,_ as d}from"./index-79d72704.js";const l={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function k(){const[o,n]=m.useState(""),a=x(p),[r,h]=j(b),i=async()=>{try{let s=a.authToken;const t=await c.get("https://cosmotrade.live/api/admin/getPremiumUsers",{headers:{Authorization:`Bearer ${s}`}});if(t.status===200)return console.log(t.data),h(t.data),t}catch(s){s.response?s.response.data.message:s.message}},u=async()=>{try{let s=a.authToken;const t=await c.post("https://cosmotrade.live/api/admin/franchisecommissions",{amount:o},{headers:{Authorization:`Bearer ${s}`}});if(t.status===200)return i(),d.success("Commission Successfully Distributed!",{...l}),n(""),t}catch(s){const t=s.response?s.response.data.message:s.message;d.error(t||"Something went wrong",{...l})}};return m.useEffect(()=>{i()},[]),e.jsxs("div",{children:[e.jsx(f,{}),e.jsxs("div",{className:"flex-div",children:[e.jsx(g,{}),e.jsxs("div",{className:"admin-rightSection",children:[e.jsxs("div",{className:"Amount-distribution-box",children:[e.jsx("h5",{children:"Enter Premium Member Distribution Amount"}),e.jsx("div",{children:e.jsx("input",{type:"number",value:o,onChange:s=>{n(s.target.value)},placeholder:"Enter Amount"})}),e.jsx("button",{onClick:u,children:"SEND COMMISSION"})]}),e.jsx(A,{}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{className:"table-row",children:[e.jsx("th",{children:"UID"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Phone No"}),e.jsx("th",{children:"Commission Amount"}),e.jsx("th",{children:"Wallet Amount"})]})}),e.jsx("tbody",{children:r&&r.response&&r.response.getUsers.map((s,t)=>e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{children:s.UID}),e.jsx("td",{children:s.name}),e.jsx("td",{children:s.phoneNumber}),e.jsx("td",{children:s.commissionAmount}),e.jsx("td",{children:s.walletAmount})]},t))})]})]})]})]})}export{k as default,l as toastProps};
