import{u as A,r as o,b as c,A as x,j as e,L as b}from"./index-f056ec52.js";import{M as U}from"./index-45b4df9a.js";import{b as D}from"./back-button 1-53e9bab3.js";import{I as k,_ as p}from"./index-0cd8b721.js";import{a as f}from"./axios-4a70c6fc.js";import{P as S}from"./Premium-3e08f6c3.js";/* empty css                        */import"./index-3606af68.js";import"./warning-5259c948.js";import"./react-lifecycles-compat.es-22c986ff.js";const u={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function E(){const j=A(),[a,g]=o.useState(null),d=c(x),[P,n]=o.useState(!1),N=c(x),r=c(S),[i,l]=o.useState(null);o.useEffect(()=>{if(r&&r.response&&r.response.totalpremiumUsers){const s=r.response.totalpremiumUsers;s<50?l(1e4):s>=50&&s<100?l(2e4):l(3e4)}},[r]);const v=async()=>{try{let s=d.UID,t=d.authToken;const m=await f.get(`https://cosmotrade.live/api/getUserProfile/${s} `,{headers:{Authorization:`Bearer ${t}`}});if(m.status===200)return g(m.data),n(!0),m}catch(s){if(s.response.status===403)return j("/signIn"),response;const t=s.response?s.response.data.message:s.message;p.error(t||"Something went wrong",{...u})}},y=async()=>{try{let s=N.authToken;const t=await f.post("https://cosmotrade.live/api/applyPremium",{amount:i},{headers:{Authorization:`Bearer ${s}`}});if(t.status===201)return p.success("Application sent for Premium User",{...u}),n(!1),t}catch(s){const t=s.response?s.response.data.message:s.message;p.error(t||"Something went wrong",{...u})}},h=()=>{n(!1)};return e.jsxs("div",{className:"PremiumApply",children:[e.jsxs("div",{className:"container ProNav",children:[e.jsxs("div",{className:"row",children:[e.jsx(b,{to:"/profile",className:"col-2",children:e.jsx("img",{src:D,alt:""})}),e.jsx("div",{className:"col-8",children:"Prime Membership"})]}),e.jsx(k,{})]}),e.jsxs("div",{className:"Premium-Body",children:[e.jsx("p",{children:"Transaction Amount"}),e.jsx("input",{type:"text",value:i}),e.jsx("button",{onClick:()=>{v()},className:"premiumApply-Submit",children:"Submit"})]}),e.jsx(U,{isOpen:P,onRequestClose:h,children:e.jsxs("div",{className:"modal-body-w2w",children:[e.jsx("div",{children:a&&e.jsxs("div",{className:"userDetaisW2W",children:[e.jsx("h4",{children:"I Want To Upgrade As A Premium User"}),e.jsxs("p",{children:["Name: ",a.data.userDetails.name]}),e.jsxs("p",{children:["UID: ",a.data.userDetails.UID]}),e.jsxs("p",{children:["Phone no: ",a.data.userDetails.phoneNumber]}),e.jsxs("p",{children:["Amount: ",i]})]})}),e.jsx("button",{className:"confirm",onClick:y,children:"Go To Premium"}),e.jsx("button",{className:"close",onClick:h,children:"Close"})]})})]})}export{E as default,u as toastProps};
