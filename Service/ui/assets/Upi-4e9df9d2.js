import{u as k,b as i,A as P,r as o,j as e,L as U}from"./index-170d9850.js";import{b as w}from"./back-button 1-53e9bab3.js";import{a as j}from"./axios-4a70c6fc.js";import{I as S,_ as l}from"./index-cb3901da.js";import{R as A,a as T}from"./RechargeAmount-f2103b9b.js";const g="/assets/info 1-30aa90c1.svg",D="/assets/PhonePay 1-a94d93dd.jpg",E="/assets/PhonePay 2-b12572af.jpg",d={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function L(){const N=k(),f=i(A),m=i(P),r=i(T),[t,v]=o.useState(null),[p,h]=o.useState(""),[n,y]=o.useState(0),I=()=>{const s=document.createElement("textarea");s.innerText=r,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),alert("Amount copied to clipboard!")},b=async()=>{try{let s=m.authToken;(await j.post("https://cosmotrade.live/api/submit-payment",{upiId:t[n].upiId,upiReferenceNo:p,amount:r,qrCode:t[n].qrCode},{headers:{Authorization:`Bearer ${s}`}})).status===201&&(l.success("Recharge request successfully Sent!",{...d}),h(""))}catch(s){const a=s.response?s.response.data.message:s.message;l.error(a||"Something went wrong",{...d})}};o.useEffect(()=>{(async()=>{try{let a=m.authToken;const c=await j.get("https://cosmotrade.live/api/getAllImageURLs",{headers:{Authorization:`Bearer ${a}`}});if(c.status===200){const u=c.data,x=u.reverse().findIndex(R=>R.options===f);x!==-1&&(y(x),v(u))}}catch(a){if(a.response.status===403)return N("/signIn"),response;const c=a.response?a.response.data.message:a.message;l.error(c||"Something went wrong",{...d})}})()},[]);const C=()=>{if(t&&t[n]&&t[n].upiId){const s=t[n].upiId,a=document.createElement("textarea");a.value=s,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),alert("UPI ID copied to clipboard!")}};return e.jsxs("div",{className:"upi",children:[e.jsx(S,{}),e.jsx("div",{className:"container-fluid PromoNav",children:e.jsxs("div",{className:"row",children:[e.jsx(U,{to:"/recharge",className:"col-2",children:e.jsx("img",{src:w,alt:""})}),e.jsx("div",{className:"col-8",children:"Recharge"}),e.jsx("div",{className:"col-2"})]})}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"step-container",children:[e.jsx("div",{className:"steps",children:"Step1"}),e.jsx("div",{className:"step-data",children:"Copy UPI Information"})]}),e.jsxs("div",{className:"upiId-container container",children:[t&&e.jsx("img",{src:t[n].qrCode,alt:"",className:"qr-img"}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-9",children:[e.jsx("h6",{children:"Amount"}),e.jsx("p",{children:r})]}),e.jsx("div",{className:"col-3",children:e.jsx("button",{onClick:I,children:"Copy"})})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-9",children:[e.jsx("h6",{children:"UPI Account"}),t&&e.jsxs("p",{children:[t[n].upiId," "]})]}),e.jsx("div",{className:"col-3",children:e.jsx("button",{onClick:C,children:"Copy"})})]})]}),e.jsxs("div",{className:"step-container",children:[e.jsx("div",{className:"steps",children:"Step2"}),e.jsx("div",{className:"step-data",children:"Open online banking or wallet, transfer to the UPI account"})]}),e.jsxs("div",{className:"upiId-container",children:[e.jsx("p",{children:"Transfer the money to the UPI account"}),e.jsxs("p",{style:{marginTop:"1rem"},children:[e.jsx("img",{src:g,alt:"",style:{marginRight:"1rem"}}),"The UPI account may be changed at any time, please do not save The UPI account."]})]}),e.jsxs("div",{className:"step-container",children:[e.jsx("div",{className:"steps",children:"Step3"}),e.jsx("div",{className:"step-data",children:"After successful make a transfer Please fill 12 digit of Ref No"})]}),e.jsxs("div",{className:"upiId-container",children:[e.jsx("p",{children:"See the Ref No. example at the bottom"}),e.jsxs("p",{style:{marginTop:"1rem"},children:[e.jsx("img",{src:g,alt:"",style:{marginRight:"1rem",color:"#FBB040"}}),"Please enter Ref No. To complete the recharge"]}),e.jsx("div",{className:"ref-container",children:e.jsx("input",{type:"text",className:"ref",placeholder:"Enter Transaction ID",value:p,onChange:s=>{h(s.target.value)}})})]}),e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row upi-btn-row",children:[e.jsx("button",{className:"col-6",style:{background:"linear-gradient(143deg, #B92E34 0%, #DC4C53 100%)"},children:"Cancel"}),e.jsx("button",{className:"col-6",style:{background:"linear-gradient(143deg, #118029 0%, #40CA77 100%)"},onClick:b,children:"Submit"})]})}),e.jsxs("div",{className:"container",children:[e.jsx("p",{className:"ref-txt",children:"Ref No. Example"}),e.jsxs("div",{className:"row ref-imges",children:[e.jsx("img",{src:D,className:"col-6"}),e.jsx("img",{src:E,className:"col-6"})]})]})]})]})}export{L as default,d as toastProps};
