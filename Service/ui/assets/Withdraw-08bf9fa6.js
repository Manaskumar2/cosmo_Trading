import{r as i,d as A,A as B,u as W,j as s,L as S}from"./index-b42162b1.js";import"./UserDetails-70d8f706.js";import{b as R}from"./back-button 1-53e9bab3.js";import{w as I,r as u,a as $}from"./reload 1-451f7926.js";import{a as m}from"./axios-4a70c6fc.js";import{I as E,_ as h}from"./index-1de4ebbe.js";const F="/assets/money-4 1-73b73fe4.svg",P="/assets/Icon-ac243959.svg",T="/assets/withdraw 1-12e60fee.svg",D="/assets/wallet 2-83b45c74.svg",U="/assets/notification-2 1-2540409e.svg",p="/assets/coins 1-8a437b37.svg",M="/assets/add-7fdb3bfd.svg",g={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function X(){const[r,v]=i.useState(null),[l,N]=i.useState(null),n=A(B),[c,o]=i.useState(5),[x,z]=i.useState(100),[f,w]=i.useState(!0),k=async()=>{try{let e=n.authToken,t=n._id;const a=await m.get(`https://cosmotrade.live/api/getBankCard/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(a.status===200)return v(a.data.data),a}catch(e){e.response?e.response.data.message:e.message}},j=async()=>{try{let e=n.authToken,t=n.UID;const a=await m.get(`https://cosmotrade.live/api/getUserProfile/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(a.status===200)return N(a),a}catch(e){e.response?e.response.data.message:e.message}};i.useEffect(()=>{k(),j()},[]);const y=()=>{c<1e3&&o(e=>e+1)},b=()=>{c>5&&o(e=>e-1)},d=W(),C=async()=>{const e=c*x;if(e<1e5)try{let t=n.authToken;const a=await m.post("https://cosmotrade.live/api/createWithdrawalRequest",{withdrawAmount:e},{headers:{Authorization:`Bearer ${t}`}});if(a.status===200)return h.success("Withdraw Request Sent",{...g}),setTimeout(()=>{d("/wallet")},1200),o(5),a}catch(t){if(t.response.status===403)return d("/signIn"),response;const a=t.response?t.response.data.message:t.message;h.error(a||"Something went wrong",{...g})}else h.error("Please Enter Amount Less Than 100000")};return s.jsxs("div",{className:"recharge",children:[s.jsx("div",{className:"container-fluid PromoNav",children:s.jsxs("div",{className:"row",children:[s.jsx(S,{to:"/wallet",className:"col-2",children:s.jsx("img",{src:R,alt:""})}),s.jsx("div",{className:"col-8",children:"Withdraw"}),s.jsx("div",{className:"col-2"})]})}),s.jsxs("div",{className:"wallet",children:[s.jsx(E,{}),s.jsx("div",{className:"container winWallet",children:s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-8",style:{marginBottom:"10px"},children:[s.jsx("h4",{style:{marginBottom:3,color:"#6FC0EE",fontFamily:"Montserrat",letterSpacing:.09,fontWeight:600},children:"Total"}),s.jsx("p",{style:{color:"#29CEE4",fontFamily:"Montserrat"},children:"Wallet balance"})]}),s.jsx("div",{className:"col-4",style:{textAlign:"right"},children:s.jsx("img",{src:I,alt:""})}),s.jsxs("h2",{style:{color:"#fff",letterSpacing:.15,fontSize:27,fontFamily:"Montserrat",display:"flex",fontWeight:600},children:[s.jsx("img",{src:u,alt:""})," ",l&&l.data.data.userDetails.walletAmount.toFixed(2)," ",s.jsx("img",{src:$,alt:"",style:{marginLeft:10},onClick:j})]})]})})]}),s.jsx("div",{className:"text-center payment-heading",children:"Payment Method"}),s.jsx("div",{className:"container recharge-btn",children:s.jsx("div",{className:"row",children:s.jsxs("button",{className:"col-10 transaction",style:{borderRight:"1px solid #024672",borderBottom:"1px solid #024672",borderRadius:"10px "},onClick:()=>w(!f),children:[s.jsx("img",{src:P,alt:""}),s.jsx("p",{children:"Bank Card"})]})})}),s.jsxs("div",{className:"container-fluid recharge-bottom",children:[r?s.jsx("div",{className:"container",children:s.jsx("div",{className:"bankCardBox",children:s.jsxs(s.Fragment,{children:[s.jsx("h3",{children:"Your bank Card"}),s.jsxs("p",{children:["User Name: ",r.accountHolderName," "]}),s.jsxs("p",{children:["Bank Name: ",r.bankName," "]}),s.jsxs("p",{children:["Account Number: ",String(r.bankAccountNo).slice(0,4)+"X".repeat(String(r.bankAccountNo).length-6)+String(r.bankAccountNo).slice(-4)]}),s.jsxs("p",{children:["IFSC Code: ",r.ifscCode," "]})]})})}):s.jsx("div",{className:"container",children:s.jsx("div",{className:"bankCardBox",children:s.jsxs(s.Fragment,{children:[s.jsx("h4",{children:"You have not added your Bank Card."}),s.jsx("h4",{children:"Please add Bank Card first."})]})})}),s.jsx("div",{className:"container",style:{display:"flex",justifyContent:"center"},children:s.jsxs("div",{className:"row inputRow",children:[s.jsx("div",{className:"col-2",children:s.jsx("img",{src:u,alt:""})}),s.jsxs("div",{className:"col-10",children:[s.jsx("input",{value:c*x,type:"number",readOnly:!0}),s.jsxs("div",{className:"withdraw-inc-dec",children:[s.jsx("button",{onClick:b,children:"-"}),s.jsx("input",{type:"number",value:c,onChange:e=>{o(e.target.value)}}),s.jsx("button",{onClick:y,children:"+"})]})]})]})}),s.jsx("p",{className:"payment-heading text-center",children:"Payout"}),s.jsx("div",{className:"container",children:s.jsx("div",{className:"row AddCard-Button",children:s.jsxs("button",{className:"col-11",onClick:()=>d("/bankCard"),children:[s.jsx("img",{src:M,alt:""})," Add Bank Card"]})})}),s.jsx("div",{className:"container",children:s.jsx("div",{className:"row recharge-Button",children:s.jsx("button",{className:"col-12",onClick:C,children:"Withdraw"})})}),s.jsxs("div",{className:"container withdraw-chart",children:[s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsx("div",{className:"profile-logo-Wrapper",children:s.jsx("img",{src:F,alt:""})})}),s.jsx("div",{className:"col-10",children:"1. Rate 0%"})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsx("div",{className:"profile-logo-Wrapper",children:s.jsx("img",{src:D,alt:""})})}),s.jsxs("div",{className:"col-10",children:["2. Remaining Bet Amount ₹ ",l&&l.data.data.userDetails.rechargeAmount]})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsx("div",{className:"profile-logo-Wrapper",children:s.jsx("img",{src:T,alt:""})})}),s.jsx("div",{className:"col-10",children:"3.Withdraw Time 00:00-23:59"})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsx("div",{className:"profile-logo-Wrapper",children:s.jsx("img",{src:U,alt:""})})}),s.jsx("div",{className:"col-10",children:"4.Daily Withdrawal Times 3"})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsx("div",{className:"profile-logo-Wrapper",children:s.jsx("img",{src:p,alt:""})})}),s.jsx("div",{className:"col-10",children:"5. Withdrawal Amount Range 500-10000000"})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsx("div",{className:"profile-logo-Wrapper",children:s.jsx("img",{src:p,alt:""})})}),s.jsx("div",{className:"col-10",children:"6. Withdrawal multiple of ₹100"})]})]})]})]})}export{X as default,g as toastProps};
