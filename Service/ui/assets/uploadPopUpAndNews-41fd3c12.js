import{r as n,b as U,h as _,j as a}from"./index-7972bc9e.js";/* empty css                  */import{A as L,S as O}from"./Side-8449c87a.js";import{a as o}from"./axios-4a70c6fc.js";import{I as R,_ as l}from"./index-fce60d6f.js";const i={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function K(){n.useState(-1);const[q,T]=n.useState(null),S=Array(10).fill({name:"",winningAmount:null}),[c,u]=n.useState(S),[d,g]=n.useState(""),[y,x]=n.useState(""),[h,f]=n.useState(""),[m,j]=n.useState(""),[p,v]=n.useState(""),[N,k]=n.useState(null),r=U(_),[b,w]=n.useState(""),D=e=>{const t=e.target.files[0];k(t)},A=async()=>{const e=new FormData;e.append("image",N);try{let t=r.authToken;const s=await o.post("https://cosmotrade.live/api/admin/uploads",e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});if(s.status===201)return l.success("Image uploaded!",{...i}),k(null),s}catch(t){t.response?t.response.data.message:t.message}},P=async e=>{e.preventDefault();try{let t=r.authToken;const s=await o.post("https://cosmotrade.live/api/admin/articles",{newsText:b},{headers:{Authorization:`Bearer ${t}`}});if(s.status===201)return l.success("News updated!",{...i}),w(""),s}catch(t){t.response?t.response.data.message:t.message}},W=async()=>{try{let e=r.authToken;const t=await o.delete("https://cosmotrade.live/api/admin/deleteImage",{headers:{Authorization:`Bearer ${e}`}});if(t.status===200)return l.success("Pop up image deleted!",{...i}),t}catch(e){e.response?e.response.data.message:e.message}},B=async()=>{try{let e=r.authToken;const t=await o.get("https://cosmotrade.live/api/admin/getWinningDocument",{headers:{Authorization:`Bearer ${e}`}});if(t.status===200)return T(t.data.documents),console.log(t.data.documents),t}catch(e){e.response?e.response.data.message:e.message}},C=async()=>{try{let e=r.authToken;const t={};if(d!==""&&(t.totalPlayers=d),h!==""&&(t.TotalBetting=h),m!==""&&(t.onlinePlayers=m),p!==""&&(t.todayTotalWithdrawal=p),Object.keys(t).length===0){console.error("All values are null. Data not sent to backend.");return}const s=await o.post("https://cosmotrade.live/api/admin/fakePlayers",t,{headers:{Authorization:`Bearer ${e}`}});if(s.status===201)return l.success("All Data Successfully Updated!",{...i}),v(""),g(""),f(""),j(""),s}catch(e){const t=e.response?e.response.data.message:e.message;console.error(t)}},$=async()=>{try{let e=r.authToken;const t=await o.post("https://cosmotrade.live/api/admin/bankName",{bankName:y},{headers:{Authorization:`Bearer ${e}`}});if(t.status===200)return l.success("Bank Name Successfully Created!",{...i}),x(""),t}catch(e){e.response?e.response.data.message:e.message}},E=async()=>{try{let e=r.authToken;const t=await o.post("https://cosmotrade.live/api/admin/winningDoument",{documents:c},{headers:{Authorization:`Bearer ${e}`}});if(t.status===200)return l.success("Winners Successfully Created!",{...i}),u(null),t}catch(e){e.response?e.response.data.message:e.message}},I=async()=>{try{let e=r.authToken;const t=await o.delete("https://cosmotrade.live/api/admin/deleteWinningDocument",{headers:{Authorization:`Bearer ${e}`}});if(t.status===200)return l.success("Previous Winners Successfully Deleted!",{...i}),t}catch(e){e.response?e.response.data.message:e.message}},z=(e,t)=>{const s=[...c];s[e]={...s[e],name:t.target.value},u(s)},F=(e,t)=>{const s=[...c];s[e]={...s[e],winningAmount:parseInt(t.target.value,10)},u(s)};return n.useEffect(()=>{B()},[]),a.jsxs("div",{children:[a.jsx(L,{}),a.jsxs("div",{className:"flex-div",children:[a.jsx(O,{}),a.jsxs("div",{className:"admin-rightSection",children:[a.jsx(R,{}),a.jsxs("form",{onSubmit:P,className:"form-rechrge",children:[a.jsx("h3",{className:"text-centre",children:"Submit News"}),a.jsx("label",{children:"Enter Latest news"}),a.jsx("input",{type:"text",value:b,placeholder:"Enter News",onChange:e=>{w(e.target.value)}}),a.jsx("button",{type:"submit",children:"Submit"})]}),a.jsxs("div",{className:"form-rechrge",children:[a.jsx("h3",{className:"text-centre",children:"Upload Promo Image"}),a.jsx("label",{children:"Select Image"}),a.jsx("input",{type:"file",accept:".jpg, .jpeg, .png, .svg",onChange:D}),a.jsx("button",{onClick:A,children:"Submit"}),a.jsx("button",{onClick:W,style:{background:"red"},children:"Delete"})]}),a.jsxs("div",{className:"form-rechrge",children:[a.jsx("h3",{className:"text-centre",children:"Update Players & Total Withdraw"}),a.jsx("label",{htmlFor:"totalPlayers",children:"Enter Total Players"}),a.jsx("input",{type:"number",id:"totalPlayers",onChange:e=>{g(parseInt(e.target.value))},placeholder:"Enter Total Players",value:d}),a.jsx("label",{htmlFor:"TotalBetting",children:"Enter Total Betting"}),a.jsx("input",{type:"number",id:"TotalBetting",onChange:e=>{f(parseInt(e.target.value))},placeholder:"Enter Total Betting",value:h}),a.jsx("label",{htmlFor:"onlinePlayers",children:"Enter Total Online Players"}),a.jsx("input",{type:"number",id:"onlinePlayers",onChange:e=>{j(parseInt(e.target.value))},placeholder:"Enter onlinePlayers",value:m}),a.jsx("label",{htmlFor:"todayTotalWithdrawal",children:"Enter Total Withdraw"}),a.jsx("input",{type:"number",id:"todayTotalWithdrawal",onChange:e=>{v(parseInt(e.target.value))},placeholder:"Enter Total Withdraw",value:p}),a.jsx("button",{onClick:C,children:"Submit"})]}),a.jsxs("div",{className:"form-rechrge",children:[a.jsx("h3",{className:"text-centre",children:"Add Bank Name"}),a.jsx("label",{htmlFor:"",children:"Enter Bank Name"}),a.jsx("input",{type:"text",onChange:e=>{x(e.target.value)},placeholder:"Enter Bank Name",value:y}),a.jsx("button",{onClick:$,children:"Submit"})]}),a.jsxs("div",{className:"form-rechrge",children:[a.jsx("h2",{children:"Enter Winner IDs, Names, and Winning Amounts"}),a.jsx("form",{children:c&&c.map((e,t)=>a.jsxs("div",{className:"winner-input",children:[a.jsx("input",{type:"text",placeholder:`Winner ${t+1} Name`,value:e.name,onChange:s=>z(t,s)}),a.jsx("input",{type:"number",placeholder:`Winner ${t+1} Winning Amount`,value:e.winningAmount,onChange:s=>F(t,s),style:{marginLeft:"12rem"}})]},t))}),a.jsx("button",{onClick:()=>{E()},children:"Save Documents"}),a.jsx("button",{onClick:()=>{I()},style:{background:"red"},children:"Delete Previous Data"})]})]})]})]})}export{K as default,i as toastProps};
