import{r as a,d as v,A as N,j as e,L as y}from"./index-cbf14f70.js";import{M as D}from"./index-c8b46a28.js";/* empty css                        */import{b}from"./back-button 1-53e9bab3.js";import{a as p}from"./axios-4a70c6fc.js";import{I as S,_ as r}from"./index-79d72704.js";import"./index-5dbd9c80.js";import"./react-lifecycles-compat.es-22c986ff.js";const n={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function W(){const[o,x]=a.useState(null),d=v(N),[l,u]=a.useState(""),[i,m]=a.useState(""),[j,c]=a.useState(!1),f=async()=>{try{let s=d.authToken;console.log(s);const t=await p.post("https://cosmotrade.live/api//walletToWallet",{amount:i,receiverUID:l},{headers:{Authorization:`Bearer ${s}`}});t.status===200&&(r.success("Amount successfully Sent!",{...n}),m(""),u(""),console.log(t),c(!1))}catch(s){if(s.response&&s.response.status===400){const t="You cannot send money until remaining bet amount 0";r.error(t,{...n})}else{const t=s.response?s.response.data.message:s.message;console.log(t),r.error(t||"Something went wrong",{...n})}}},h=()=>{c(!1)},g=async()=>{try{let s=d.authToken;const t=await p.get(`https://cosmotrade.live/api//getUserProfile/${l} `,{headers:{Authorization:`Bearer ${s}`}});if(t.status===200)return x(t.data),console.log(t.data),c(!0),t}catch(s){const t=s.response?s.response.data.message:s.message;console.log(t),r.error(t||"Something went wrong",{...n})}};return e.jsxs("div",{className:"security",children:[e.jsx(S,{}),e.jsx("div",{className:"container-fluid PromoNav",children:e.jsxs("div",{className:"row",children:[e.jsx(y,{to:"/profile",className:"col-2",children:e.jsx("img",{src:b,alt:""})}),e.jsx("div",{className:"col-8",children:"Wallet To Wallet"}),e.jsx("div",{className:"col-2"})]})}),e.jsx("div",{className:"sucurity-body",children:e.jsxs("div",{className:"security-form",children:[e.jsx("p",{children:"UID"}),e.jsx("input",{type:"text",placeholder:"Enter UID",value:l,onChange:s=>{u(s.target.value)}}),e.jsx("p",{children:"Amount"}),e.jsx("input",{type:"text",placeholder:"Enter Amount",value:i,onChange:s=>{m(s.target.value)}}),e.jsx("button",{onClick:()=>{g()},children:"SUBMIT"})]})}),e.jsx(D,{isOpen:j,onRequestClose:h,children:e.jsxs("div",{className:"modal-body-w2w",children:[e.jsx("div",{children:o&&e.jsxs("div",{className:"userDetaisW2W",children:[e.jsx("h2",{children:"User Details"}),e.jsxs("p",{children:["Name: ",o.data.userDetails.name]}),e.jsxs("p",{children:["UID: ",o.data.userDetails.UID]}),e.jsxs("p",{children:["Phone no: ",o.data.userDetails.phoneNumber]}),e.jsxs("p",{children:["Amount: ",i]})]})}),e.jsx("button",{className:"confirm",onClick:f,children:"Confirm Submit"}),e.jsx("button",{className:"close",onClick:h,children:"Close"})]})})]})}export{W as default,n as toastProps};
