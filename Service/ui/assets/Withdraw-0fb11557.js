import{r as n,u as B,b as W,A as I,j as s,L as D}from"./index-555ca70e.js";import"./UserDetails-7050be10.js";import{b as R}from"./back-button 1-53e9bab3.js";import{w as U,r as g,a as F}from"./reload 1-451f7926.js";import{a as m}from"./axios-4a70c6fc.js";import{I as M,_ as h}from"./index-697d60b7.js";import{M as P}from"./index-279143a8.js";/* empty css                        */import"./index-1f7d40ad.js";import"./warning-410441c5.js";import"./react-lifecycles-compat.es-22c986ff.js";const $="/assets/money-4 1-73b73fe4.svg",E="/assets/Icon-ac243959.svg",T="/assets/withdraw 1-12e60fee.svg",L="/assets/wallet 2-83b45c74.svg",z="/assets/notification-2 1-2540409e.svg",v="/assets/coins 1-8a437b37.svg",_="/assets/add-7fdb3bfd.svg",f={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function ss(){const[x,j]=n.useState(!1),[w,u]=n.useState(!1),[a,b]=n.useState(null),[t,k]=n.useState(null),o=B(),c=W(I),[l,p]=n.useState(null);n.useState(100);const[C,y]=n.useState(!0),d=()=>{u(!1)},S=async()=>{try{let e=c.authToken,r=c._id;const i=await m.get(`https://cosmotrade.live/api/getBankCard/${r}`,{headers:{Authorization:`Bearer ${e}`}});if(i.status===200)return b(i.data.data),i}catch(e){if(e.response.status===403)return localStorage.removeItem("authUserToken"),o("/signIn"),response;e.response?e.response.data.message:e.message}},N=async()=>{try{let e=c.authToken,r=c.UID;const i=await m.get(`https://cosmotrade.live/api/getUserProfile/${r}`,{headers:{Authorization:`Bearer ${e}`}});if(i.status===200)return k(i),i}catch(e){e.response?e.response.data.message:e.message}};n.useEffect(()=>{S(),N()},[l]);const A=async()=>{if(l<1e5&&l!==null)try{j(!0);let e=c.authToken;const r=await m.post("https://cosmotrade.live/api/createWithdrawalRequest",{withdrawAmount:l},{headers:{Authorization:`Bearer ${e}`}});if(r.status===200)return h.success("Withdraw Request Sent",{...f}),d(),setTimeout(()=>{o("/wallet")},1200),p(null),r}catch(e){const r=e.response?e.response.data.message:e.message;h.error(r||"Something went wrong",{...f})}finally{j(!1)}else h.error("Please Enter a Valid Amount Between 500 to 10000000")};return s.jsxs("div",{className:"recharge",children:[s.jsx("div",{className:"container-fluid PromoNav",children:s.jsxs("div",{className:"row",children:[s.jsx(D,{to:"/wallet",className:"col-2",children:s.jsx("img",{src:R,alt:""})}),s.jsx("div",{className:"col-8",children:"Withdraw"}),s.jsx("div",{className:"col-2"})]})}),s.jsxs("div",{className:"wallet",children:[s.jsx(M,{}),s.jsx("div",{className:"container winWallet",children:s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-8",style:{marginBottom:"10px"},children:[s.jsx("h4",{style:{marginBottom:3,color:"#6FC0EE",fontFamily:"Montserrat",letterSpacing:.09,fontWeight:600},children:"Total"}),s.jsx("p",{style:{color:"#29CEE4",fontFamily:"Montserrat"},children:"Wallet balance"})]}),s.jsx("div",{className:"col-4",style:{textAlign:"right"},children:s.jsx("img",{src:U,alt:""})}),s.jsxs("h2",{style:{color:"#fff",letterSpacing:.15,fontSize:27,fontFamily:"Montserrat",display:"flex",fontWeight:600},children:[s.jsx("img",{src:g,alt:""})," ",t&&t.data.data.userDetails.walletAmount.toFixed(2)," ",s.jsx("img",{src:F,alt:"",style:{marginLeft:10},onClick:N})]})]})})]}),s.jsx("div",{className:"text-center payment-heading",children:"Payment Method"}),s.jsx("div",{className:"container recharge-btn",children:s.jsx("div",{className:"row",children:s.jsxs("button",{className:"col-10 transaction",style:{borderRight:"1px solid #024672",borderBottom:"1px solid #024672",borderRadius:"10px "},onClick:()=>y(!C),children:[s.jsx("img",{src:E,alt:""}),s.jsx("p",{children:"Bank Card"})]})})}),s.jsxs("div",{className:"container-fluid recharge-bottom",children:[a?s.jsx("div",{className:"container",children:s.jsx("div",{className:"bankCardBox",children:s.jsxs(s.Fragment,{children:[s.jsx("h3",{children:"Your bank Card"}),s.jsxs("p",{children:["User Name: ",a.accountHolderName," "]}),s.jsxs("p",{children:["Bank Name: ",a.bankName," "]}),s.jsxs("p",{children:["Account Number: ",String(a.bankAccountNo).slice(0,4)+"X".repeat(String(a.bankAccountNo).length-6)+String(a.bankAccountNo).slice(-4)]}),s.jsxs("p",{children:["IFSC Code: ",a.ifscCode," "]})]})})}):s.jsx("div",{className:"container",children:s.jsx("div",{className:"bankCardBox",children:s.jsxs(s.Fragment,{children:[s.jsx("h4",{children:"You have not added your Bank Card."}),s.jsx("h4",{children:"Please add Bank Card first."})]})})}),s.jsx("div",{className:"container",style:{display:"flex",justifyContent:"center"},children:s.jsxs("div",{className:"row inputRow",children:[s.jsx("div",{className:"col-2",children:s.jsx("img",{src:g,alt:""})}),s.jsxs("div",{className:"col-10",children:[s.jsx("input",{type:"number",value:l,onChange:e=>{p(parseInt(e.target.value))}}),s.jsx("div",{className:"withdraw-inc-dec"})]})]})}),s.jsx("p",{className:"payment-heading text-center",children:"Payout"}),s.jsx("div",{className:"container",children:s.jsx("div",{className:"row AddCard-Button",children:s.jsxs("button",{className:"col-11",onClick:()=>o("/bankCard"),children:[s.jsx("img",{src:_,alt:""})," Add Bank Card"]})})}),s.jsx("div",{className:"container",children:s.jsx("div",{className:"row recharge-Button",children:s.jsx("button",{className:"col-12",onClick:()=>{u(!0)},children:"Withdraw"})})}),s.jsxs("div",{className:"container withdraw-chart",children:[s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsx("div",{className:"profile-logo-Wrapper",children:s.jsx("img",{src:$,alt:""})})}),s.jsx("div",{className:"col-10",children:"1. Rate 0%"})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsx("div",{className:"profile-logo-Wrapper",children:s.jsx("img",{src:L,alt:""})})}),s.jsxs("div",{className:"col-10",children:["2. Remaining Bet Amount ₹ ",t&&t.data.data.userDetails.rechargeAmount]})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsx("div",{className:"profile-logo-Wrapper",children:s.jsx("img",{src:T,alt:""})})}),s.jsx("div",{className:"col-10",children:"3.Withdraw Time 00:00-23:59"})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsx("div",{className:"profile-logo-Wrapper",children:s.jsx("img",{src:z,alt:""})})}),s.jsx("div",{className:"col-10",children:"4.Daily Withdrawal Times 3"})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsx("div",{className:"profile-logo-Wrapper",children:s.jsx("img",{src:v,alt:""})})}),s.jsx("div",{className:"col-10",children:"5. Withdrawal Amount Range 500-10000000"})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-2",children:s.jsx("div",{className:"profile-logo-Wrapper",children:s.jsx("img",{src:v,alt:""})})}),s.jsx("div",{className:"col-10",children:"6. Withdrawal multiple of ₹100"})]})]})]}),s.jsx(P,{isOpen:w,onRequestClose:d,children:s.jsxs("div",{className:"modal-body-w2w",children:[s.jsxs("div",{children:[t&&s.jsxs("div",{className:"userDetaisW2W",children:[s.jsx("h2",{children:"User Details"}),s.jsxs("p",{children:["Name: ",t.data.data.userDetails.name]}),s.jsxs("p",{children:["UID: ",t.data.data.userDetails.UID]}),s.jsxs("p",{children:["Phone no: ",t.data.data.userDetails.phoneNumber]})]}),a&&s.jsx("div",{className:"container",children:s.jsx("div",{className:"bankCardBox",children:s.jsxs(s.Fragment,{children:[s.jsx("h3",{children:"Your bank Card"}),s.jsxs("p",{children:["User Name: ",a.accountHolderName," "]}),s.jsxs("p",{children:["Bank Name: ",a.bankName," "]}),s.jsxs("p",{children:["Account Number: ",String(a.bankAccountNo).slice(0,4)+"X".repeat(String(a.bankAccountNo).length-6)+String(a.bankAccountNo).slice(-4)]}),s.jsxs("p",{children:["IFSC Code: ",a.ifscCode," "]}),s.jsxs("p",{children:["Amount: ",l]})]})})})]}),s.jsxs("button",{className:"confirm",onClick:A,disabled:x,children:["  ",x?"Loading...":"Confirm Submit"]}),s.jsx("button",{className:"close",onClick:d,children:"Close"})]})})]})}export{ss as default,f as toastProps};
