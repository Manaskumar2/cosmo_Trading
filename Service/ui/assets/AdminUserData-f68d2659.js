import{f as b,u as k,d as S,h as D,r as c,a as I,j as e}from"./index-be84e0db.js";import{A as P,S as _}from"./Side-68c2372f.js";import{a as l}from"./axios-4a70c6fc.js";/* empty css             */import{I as $,_ as d}from"./index-fa9b3787.js";const C=b({key:"AllUserData",default:null}),h={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function R(){const g=k(),i=S(D),[n,x]=c.useState(1),[m,p]=c.useState(""),[j,q]=c.useState([]),[o,v]=I(C),f=async()=>{try{let s=i.authToken;const t=await l.get("https://cosmotrade.live/api/admin/getAllUsers",{headers:{Authorization:`Bearer ${s}`},params:{queryPageIndex:n,queryPageFilter:m}});if(t.status===200)return console.log(t),v(t),console.log(o),t}catch(s){s.response?s.response.data.message:s.message}},y=async s=>{try{let t=i.authToken;console.log(t);const a=await l.patch(`https://cosmotrade.live/api/admin/activateUser/${s}`,{},{headers:{Authorization:`Bearer ${t}`}});if(a.status===200)return d.success("User Activated",{...h}),console.log(a),a}catch(t){const a=t.response?t.response.data.message:t.message;console.error(a)}},A=async s=>{try{let t=i.authToken;console.log(t);let a=i._id;console.log(a);const r=await l.patch(`https://cosmotrade.live/api/admin/deactivateUser/${s}`,{},{headers:{Authorization:`Bearer ${t}`}});if(r.status===200)return d.success("User Deactivated",{...h}),console.log(r),r}catch(t){const a=t.response?t.response.data.message:t.message;console.error(a)}};c.useEffect(()=>{f()},[n,m,j]);const u=o&&o.data.response.totalPages,U=()=>{n>1&&x(n-1)},w=()=>{n<u&&x(n+1)},N=async(s,t)=>{try{const a=await l.post("https://cosmotrade.live/api//signIn",{phoneNumber:s,password:t});if(a.status===200)return d.success("Welcome to our Gaming Zone",{...h}),sessionStorage.setItem("authUserToken",JSON.stringify(a.data.data)),console.log(a),g("/"),window.location.reload(),a}catch(a){const r=a.response?a.response.data.message:a.message;d.error(r||"Something went wrong",{...h})}};return e.jsxs("div",{children:[e.jsx(P,{}),e.jsxs("div",{className:"flex-div",children:[e.jsx(_,{}),e.jsxs("div",{className:"admin-rightSection",children:[e.jsx($,{}),e.jsx("input",{type:"number",className:"user-input",value:m,onChange:s=>{p(s.target.value)},placeholder:"Search Number / UID"}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{className:"table-row",children:[e.jsx("th",{children:"UID"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Password"}),e.jsx("th",{children:"Total Downline"}),e.jsx("th",{children:"Parent Id"}),e.jsx("th",{children:"Commission Earned"}),e.jsx("th",{children:"Wallet Amount"}),e.jsx("th",{children:"Winning Amount"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:o&&o.data.response.getUsers.map((s,t)=>e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{children:s.UID}),e.jsx("td",{children:s.name}),e.jsx("td",{children:s.phoneNumber}),e.jsx("td",{children:s.password}),e.jsx("td",{children:s.downline.length}),e.jsx("td",{children:s.parentUserUid}),e.jsx("td",{children:s.commissionAmount.toFixed(2)}),e.jsx("td",{children:s.walletAmount.toFixed(2)}),e.jsx("td",{children:s.winningAmount.toFixed(2)}),e.jsxs("td",{children:[e.jsx("button",{onClick:()=>y(s._id),className:"activate",children:"Activate"}),e.jsx("button",{onClick:()=>A(s._id),className:"deactivate",children:"Deactivate"}),e.jsx("button",{className:"login-user",onClick:()=>{N(s.phoneNumber,s.password)},children:"Login"})]})]},t))})]}),e.jsxs("div",{className:"inc-dec-btns",children:[e.jsx("button",{onClick:U,children:"-"}),e.jsxs("div",{children:[n,"/",u]}),e.jsx("button",{onClick:w,children:"+"})]})]})]})]})}export{R as default,h as toastProps};
