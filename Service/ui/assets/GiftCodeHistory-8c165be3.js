import{u as h,r as l,b as j,h as v,j as e}from"./index-86a585b6.js";import{A as p,S as u}from"./Side-b868dbef.js";import{a as N}from"./axios-4a70c6fc.js";import{a as g}from"./arr-8473bac8.js";import{I as f}from"./index-069b58ee.js";function D(){const c=h(),[o,C]=l.useState(""),[a,n]=l.useState(1),[r,A]=l.useState(new Date().toISOString().split("T")[0]),[s,d]=l.useState(null),m=j(v),x=async()=>{try{let t=m.authToken;const i=await N.get("https://cosmotrade.live/api/admin/getGiftCodeAmount",{params:{page:a},headers:{Authorization:`Bearer ${t}`}});i.status===200&&(console.log(i.data),d(i.data.data))}catch(t){t.response?t.response.data.message:t.message}};return l.useEffect(()=>{x()},[r,o,a]),e.jsxs("div",{children:[e.jsx(p,{}),e.jsxs("div",{className:"flex-div",children:[e.jsx(u,{}),e.jsxs("div",{className:"admin-rightSection",children:[e.jsx(f,{}),e.jsxs("div",{className:"container ",children:[e.jsxs("div",{className:"admin-total-head",children:[e.jsxs("div",{children:[" ",e.jsx("h4",{children:"Gift Code History"})]}),e.jsx("div",{style:{display:"flex",gap:"2rem"},children:e.jsxs("button",{className:"back-btn",onClick:()=>{c("/admin/createGiftCard")},children:[e.jsx("img",{src:g,alt:""}),e.jsx("p",{children:"Back"})]})})]}),e.jsxs("div",{className:"container total-table",children:[e.jsxs("div",{className:"total-table-heading row",children:[e.jsx("div",{className:"col-1 text-left",children:"Sl No"}),e.jsx("div",{className:"col-3 text-center ",children:"Date"}),e.jsx("div",{className:"col-5 text-center ",children:"Gift Code"}),e.jsx("div",{className:"col-1 text-center",children:"Amount"}),e.jsx("div",{className:"col-2 text-center",style:{fontSize:".9rem",lineHeight:"100%"},children:"Claimed Amount"})]}),e.jsx("div",{className:"total-table-parent",children:s&&s.giftCodes.map((t,i)=>e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-1 text-left",children:(a-1)*20+i+1}),e.jsx("div",{className:"col-3 text-center ",children:new Date(t.createdAt).toLocaleString()}),e.jsx("div",{className:"col-5 text-center ",children:t.code}),e.jsx("div",{className:"col-1 text-center",children:t.amount}),e.jsx("div",{className:"col-2 text-center",children:t.totalClaimedAmount})]},i))}),s&&s.overallClaimedAmount&&e.jsxs("div",{className:"total-profit row",children:[e.jsxs("div",{className:"col-10",children:[" ",e.jsx("h4",{children:"Total Claimed Amount : "})," "]}),e.jsxs("div",{className:"col-2 text-center",children:[" ",e.jsxs("h4",{children:[" ",s.overallClaimedAmount," "]})," "]})]}),s&&s.totalPages&&e.jsx("div",{className:"pagination-buttons-container",style:{marginTop:"2rem"},children:e.jsxs("div",{className:"pagination-buttons pagination-buttons-p-m",children:[e.jsx("button",{className:"decreaseBtn",onClick:()=>{n(Math.max(a-1,1))},children:"-"}),s&&e.jsxs("div",{className:"page-count",children:[a,"/",s.totalPages," "]}),e.jsx("button",{className:"increaseBtn ",onClick:()=>{n(Math.min(a+1,s.totalPages))},children:"+"})]})}),e.jsx("div",{})]})]})]})]})]})}export{D as default};
