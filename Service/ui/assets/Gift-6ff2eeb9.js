import{r,b as p,A as g,j as s,L as v}from"./index-555ca70e.js";import{b as N}from"./back-button 1-53e9bab3.js";import{e as b}from"./earphone-d19d035b.js";import{a as y}from"./axios-4a70c6fc.js";import{I as C,_ as c}from"./index-697d60b7.js";import{M as o}from"./Modal-7d90b00f.js";import"./setPrototypeOf-35303ce5.js";import"./TransitionWrapper-84340a80.js";import"./index-1f7d40ad.js";const S="/assets/Frame-248d8519.png",k="/assets/giftImg-9580f9ee.svg",i={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function E(){const[m,l]=r.useState(!1),[t,h]=r.useState(null),f=()=>l(!1),u=()=>l(!0),x=p(g),[n,d]=r.useState(""),j=async()=>{try{let e=x.authToken;const a=await y.post("https://cosmotrade.live/api/claimGiftCode",{code:n},{headers:{Authorization:`Bearer ${e}`}});if(a.status===200)return d(""),u(),console.log(a.data.data),console.log(a.data.data.code),h(a.data.data),c.success("You have successfully claimed the gift Card!",{...i}),a}catch(e){if(e.response.status===404)c.error("Gift Card already Claimed!",{...i});else{const a=e.response?e.response.data.message:e.message;c.error(a||"Gift card not Found.",{...i})}}};return s.jsxs("div",{className:"giftPage",children:[s.jsx("div",{className:"container ProNav",children:s.jsxs("div",{className:"row",children:[s.jsx(v,{to:"/profile",className:"col-2",children:s.jsx("img",{src:N,alt:""})}),s.jsx("div",{className:"col-8",children:"Gift"}),s.jsx("div",{className:"col-2",children:s.jsx("img",{src:b,alt:"",className:"header_headphone"})})]})}),s.jsx(C,{}),s.jsxs("div",{className:"gift-body",children:[s.jsxs("div",{className:"container  box",children:[s.jsx("img",{src:S,alt:""}),s.jsx("h6",{children:"Hello Everyone"}),s.jsx("p",{children:"We have a Gift for You"}),s.jsx("input",{type:"text",value:n,onChange:e=>{d(e.target.value)}})]}),s.jsx("div",{className:"container",children:s.jsx("div",{className:"row gift-btn",children:s.jsx("button",{className:"col-12",onClick:j,children:"SUBMIT"})})})]}),t&&s.jsxs(o,{className:"gift-body",show:m,onHide:f,backdrop:"static",keyboard:!1,centered:!0,children:[s.jsx(o.Header,{closeButton:!0,className:"gift-body",children:s.jsx(o.Title,{children:"Congratulations!"})}),s.jsx(o.Body,{className:"gift-body",children:s.jsxs("div",{className:"container  box",children:[s.jsx("img",{src:k,alt:""}),t&&s.jsxs(s.Fragment,{children:[" ",s.jsx("h6",{children:"You Have Successfully Claimed  "})," ",s.jsx("h6",{children:s.jsxs("span",{className:"bold-data",children:[t.code," "]})})," "]}),t&&s.jsxs("h6",{children:["You Got Rs: ",s.jsxs("span",{className:"bold-data",children:[" ",t.amount]})," in your wallet"]})]})})]})]})}export{E as default,i as toastProps};
