import{r,d as N,A as I,j as s,L as S}from"./index-89f7447c.js";import{M as w}from"./index-ce1dade3.js";/* empty css                        */import{b as D}from"./back-button 1-53e9bab3.js";import{a as d}from"./axios-4a70c6fc.js";import{I as U,_ as n}from"./index-45067eb1.js";import"./index-df87bd8e.js";import"./react-lifecycles-compat.es-22c986ff.js";const b="/assets/receive-bb5ee324.svg",k="/assets/send-989cf09b.svg",o={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function R(){const[c,p]=r.useState(null),[T,g]=r.useState(null),a=N(I),[l,m]=r.useState(0),[u,x]=r.useState(""),[f,i]=r.useState(!1),j=async()=>{try{let e=a.authToken;(await d.post("https://cosmotrade.live/api/walletToWallet",{amount:u,receiverUID:l},{headers:{Authorization:`Bearer ${e}`}})).status===200&&(n.success("Amount successfully Sent!",{...o}),x(""),m(0),i(!1))}catch(e){if(e.response&&e.response.status===400){const t="You cannot send money until remaining bet amount 0";n.error(t,{...o})}else{const t=e.response?e.response.data.message:e.message;n.error(t||"Something went wrong",{...o})}}},h=()=>{i(!1)},v=async()=>{try{let e=a.authToken;const t=await d.get(`https://cosmotrade.live/api/getUserProfile/${l} `,{headers:{Authorization:`Bearer ${e}`}});if(t.status===200)return g(t.data),i(!0),t}catch(e){const t=e.response?e.response.data.message:e.message;n.error(t||"Something went wrong",{...o})}},y=async()=>{try{let e=a.authToken;const t=await d.get("https://cosmotrade.live/api/getwalletToWallet ",{headers:{Authorization:`Bearer ${e}`}});if(t.status===200)return console.log(t),p(t.data),t}catch(e){const t=e.response?e.response.data.message:e.message;n.error(t||"Something went wrong",{...o})}};return r.useEffect(()=>{y()},[]),s.jsxs("div",{className:"security",children:[s.jsx(U,{}),s.jsx("div",{className:"container-fluid PromoNav",children:s.jsxs("div",{className:"row",children:[s.jsx(S,{to:"/profile",className:"col-2",children:s.jsx("img",{src:D,alt:""})}),s.jsx("div",{className:"col-8",children:"Wallet To Wallet"}),s.jsx("div",{className:"col-2"})]})}),s.jsxs("div",{className:"sucurity-body ",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[s.jsxs("div",{className:"security-form ",children:[s.jsx("p",{style:{color:"#fff",marginTop:"1rem"},children:"UID"}),s.jsx("input",{type:"text",placeholder:"Enter UID",value:l,onChange:e=>{m(e.target.value)}}),s.jsx("p",{style:{color:"#fff",marginTop:"1rem"},children:"Amount"}),s.jsx("input",{type:"text",placeholder:"Enter Amount",value:u,onChange:e=>{x(e.target.value)}}),s.jsx("button",{onClick:()=>{v()},children:"SUBMIT"})]}),s.jsx("div",{className:"container",style:{margin:"2.5rem 0"},children:c&&c.data.map((e,t)=>s.jsxs("div",{className:"row transaction-data",children:[s.jsx("div",{className:"col-3",children:a.UID===e.sender?s.jsx("img",{src:k,alt:""}):s.jsx("img",{src:b,alt:""})}),s.jsxs("div",{className:"col-6",children:["  ",s.jsx("p",{style:{textAlign:"left"},children:a.UID===e.sender?e.receiver:e.sender}),s.jsx("p",{style:{fontSize:".8rem",textAlign:"left"},children:new Date(e.createdAt).toLocaleString()})]}),s.jsx("div",{className:`col-3 ${a.UID===e.sender?"text-red":"text-green"}`,children:a.UID===e.sender?s.jsxs("span",{children:["- ₹",e.amount]}):s.jsxs("span",{className:"text-green",children:["+ ₹",e.amount]})})]},t))})]}),s.jsx(w,{isOpen:f,onRequestClose:h,children:s.jsxs("div",{className:"modal-body-w2w",children:[s.jsx("div",{children:c&&c.data.map((e,t)=>s.jsxs("div",{className:"transaction-item",children:[s.jsx("div",{className:`transaction-sender ${a.UID===e.sender?"text-red":"text-green"}`,children:e.sender}),s.jsx("div",{className:`transaction-receiver ${a.UID===e.sender?"text-red":"text-green"}`,children:e.receiver}),s.jsx("div",{className:"transaction-amount",children:e.amount}),s.jsx("div",{className:`transaction-status ${a.UID===e.sender?"text-red":"text-green"}`,children:a.UID===e.sender?"Sent":"Received"})]},t))}),s.jsx("button",{className:"confirm",onClick:j,children:"Confirm Submit"}),s.jsx("button",{className:"close",onClick:h,children:"Close"})]})})]})}export{R as default,o as toastProps};
