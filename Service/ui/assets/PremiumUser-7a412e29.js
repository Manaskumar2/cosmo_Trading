import{u as f,r as c,b as N,h as v,j as e}from"./index-170d9850.js";import{A as w,S as y}from"./Side-f355272c.js";import{a as d}from"./axios-4a70c6fc.js";/* empty css             */import"./Premium-c127c4b9.js";/* empty css                   */import{I as P,_ as a}from"./index-cb3901da.js";const i={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function E(){const p=f(),[l,m]=c.useState(""),[o,g]=c.useState(1),h=t=>{g(t)},u=N(v),[n,j]=c.useState(null),x=async()=>{try{let t=u.authToken;const s=await d.get(`https://cosmotrade.live/api/admin/getPremiumUsers?&page=${o}`,{headers:{Authorization:`Bearer ${t}`}});if(s.status===200)return j(s.data),s}catch(t){const s=t.response?t.response.data.message:t.message;a.error(s||"Something went wrong",{...i})}},b=async()=>{try{let t=u.authToken;const s=await d.post("https://cosmotrade.live/api/admin/franchisecommissions",{amount:l},{headers:{Authorization:`Bearer ${t}`}});if(s.status===200)return x(),a.success("Commission Successfully Distributed!",{...i}),m(""),s}catch(t){const s=t.response?t.response.data.message:t.message;a.error(s||"Something went wrong",{...i})}};c.useEffect(()=>{x()},[o]);const A=async(t,s)=>{try{const r=await d.post("https://cosmotrade.live/api/signIn",{phoneNumber:t,password:s});if(r.status===200)return a.success("Welcome to our Gaming Zone",{...i}),sessionStorage.setItem("authUserToken",JSON.stringify(r.data.data)),p("/"),window.location.reload(),r}catch(r){const S=r.response?r.response.data.message:r.message;a.error(S||"Something went wrong",{...i})}};return e.jsxs("div",{children:[e.jsx(w,{}),e.jsxs("div",{className:"flex-div",children:[e.jsx(y,{}),e.jsxs("div",{className:"admin-rightSection",children:[e.jsxs("div",{className:"Amount-distribution-box",children:[e.jsx("h5",{children:"Enter Premium Member Distribution Amount"}),e.jsx("div",{children:e.jsx("input",{type:"number",value:l,onChange:t=>{m(t.target.value)},placeholder:"Enter Amount"})}),e.jsx("button",{onClick:b,children:"SEND COMMISSION"})]}),e.jsx(P,{}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{className:"table-row",children:[e.jsx("th",{children:"Serial No."}),e.jsx("th",{children:"UID"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Phone No"}),e.jsx("th",{children:"Total Betting Amount"}),e.jsx("th",{children:"Today Betting Amount"}),e.jsx("th",{children:"Commission Amount"}),e.jsx("th",{children:"Wallet Amount"}),e.jsx("th",{children:"Action"})]})}),e.jsx("tbody",{children:n&&n.response&&n.response.getUsers&&n.response.getUsers.map((t,s)=>e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{children:(o-1)*20+s+1}),e.jsx("td",{children:t.UID}),e.jsx("td",{children:t.name}),e.jsx("td",{children:t.phoneNumber}),t.bettingAmount?e.jsx("td",{children:t.bettingAmount.toFixed(2)}):e.jsx("td",{children:"0"}),t.dailyTotalBettingAmount?e.jsx("td",{children:t.dailyTotalBettingAmount.toFixed(2)}):e.jsx("td",{children:"0"}),e.jsx("td",{children:t.commissionAmount.toFixed(2)}),e.jsx("td",{children:t.walletAmount.toFixed(2)}),e.jsx("td",{children:e.jsx("button",{onClick:()=>{A(t.phoneNumber,t.password)},className:"login-user",children:"Login"})})]},s))})]}),n&&n.response&&n.response.totalPages&&e.jsxs("div",{className:"pagination-prime",children:[e.jsx("button",{onClick:()=>h(o-1),disabled:o===1,children:"-"}),e.jsxs("span",{children:[o," / ",n&&n.response&&n.response.getUsers&&n.response.totalPages]}),e.jsx("button",{onClick:()=>h(o+1),disabled:o===n.response.totalPages,children:"+"})]})]})]})]})}export{E as default,i as toastProps};
