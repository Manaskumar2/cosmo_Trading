import{u as f,r as i,b as g,h as v,j as a}from"./index-3900eb01.js";import{A as u,S as N}from"./Side-3e953427.js";import{a as m}from"./axios-4a70c6fc.js";import{t as y,a as D}from"./arr-b745ac13.js";import{I as S}from"./index-4ff9357e.js";import{r as P,l as b}from"./RightArr-753548b2.js";import"./setPrototypeOf-cf8dc84d.js";import"./warning-47ccff0b.js";function M(){const h=f(),[r,c]=i.useState(1),[l,x]=i.useState(new Date),[o,k]=i.useState(new Date),[s,n]=i.useState(null),d=g(v),p=async()=>{try{let e=d.authToken;const t=await m.get("https://cosmotrade.live/api/admin/getComapnyProfits",{params:{specificDate:l,specificDay:null},headers:{Authorization:`Bearer ${e}`}});t.status===200&&(console.log(t.data),n(t.data))}catch(e){e.response?e.response.data.message:e.message}},j=async()=>{try{let e=d.authToken;const t=await m.get("https://cosmotrade.live/api/admin/getComapnyProfits",{params:{specificDay:o,specificDate:null},headers:{Authorization:`Bearer ${e}`}});t.status===200&&n(t.data)}catch(e){e.response?e.response.data.message:e.message}};return i.useEffect(()=>{p()},[l]),i.useEffect(()=>{j()},[o]),a.jsxs("div",{children:[a.jsx(u,{}),a.jsxs("div",{className:"flex-div",children:[a.jsx(N,{}),a.jsxs("div",{className:"admin-rightSection",children:[a.jsx(S,{}),a.jsxs("div",{className:"container ",children:[a.jsxs("div",{className:"admin-total-head",children:[a.jsxs("div",{children:[" ",a.jsx("h4",{children:"Company Profit"})," "]}),a.jsxs("div",{style:{display:"flex",gap:"2rem",alignItems:"center"},children:[a.jsx("h5",{style:{margin:"0"},children:"Search By Day : "}),a.jsx(y,{className:"calender-input",selected:new Date(l),onChange:e=>{x(e.toISOString().split("T")[0])},dateFormat:"yyyy-MM-dd"}),a.jsxs("button",{className:"back-btn",onClick:()=>{h("/admin/home")},children:[a.jsx("img",{src:D,alt:""}),a.jsx("p",{children:"Back"})]})]})]}),a.jsxs("div",{className:"container total-table",children:[a.jsxs("div",{className:"total-table-heading row",children:[a.jsx("div",{className:"col-2 text-center",children:"Sl No"}),a.jsx("div",{className:"col-6 text-left ",children:"Date"}),a.jsx("div",{className:"col-4 text-right",children:"Amount"})]}),a.jsx("div",{className:"total-table-parent",children:s&&s.dateWiseData&&s.dateWiseData.map((e,t)=>a.jsxs("div",{className:"row",children:[a.jsx("div",{className:"col-2 text-center",children:t+1}),a.jsx("div",{className:"col-6 text-left ",children:e._id}),a.jsx("div",{className:"col-4 text-right",children:e.totalProfit.toFixed(2)})]},t))}),s&&s.overallData[0]&&a.jsxs("div",{className:"total-profit row",children:[a.jsxs("div",{className:"col-10",children:[" ",a.jsx("h4",{children:"Total Profit : "})," "]}),a.jsxs("div",{className:"col-2",children:[" ",a.jsx("h4",{children:s.overallData[0].totalProfit.toFixed(2)})," "]})]}),a.jsx("div",{children:s&&s.dateWiseTotalPages&&a.jsxs("div",{className:"pagination-buttons-p2p",children:[a.jsxs("button",{onClick:()=>{c(Math.max(r-1,1))},className:"page-leftarr",children:["  ",a.jsx("img",{src:P,alt:""})," "]}),s&&a.jsxs("div",{children:[r,"/",s.dateWiseTotalPages]}),a.jsxs("button",{onClick:()=>{c(Math.min(r+1,s.dateWiseTotalPages))},className:"page-rightarr",children:["  ",a.jsx("img",{src:b,alt:""})," "]})]})})]})]})]})]})]})}export{M as default};
