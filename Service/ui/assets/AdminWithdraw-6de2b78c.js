import{r as i,d as w,A as f,j as a}from"./index-03b010d5.js";import{A as k,S as v}from"./Side-1c5e7fa4.js";import{a as o}from"./axios-4a70c6fc.js";import{A as c}from"./Accordion-e479e0e0.js";import"./TransitionWrapper-8f7e21a7.js";function $(){const[n,u]=i.useState(null),[h,p]=i.useState(null),[r,x]=i.useState(null),d=w(f),j=async s=>{try{let e=d.authToken;const t=await o.get(`https://cosmotrade.live/api//admin/getUserDetails/${s}`,{headers:{Authorization:`Bearer ${e}`}});if(t.status===200)return console.log(t),u(t),t}catch(e){e.response?e.response.data.message:e.message}},A=async()=>{try{let s=d.authToken;const e=await o.get("https://cosmotrade.live/api//admin/getWithdrawRequest",{headers:{Authorization:`Bearer ${s}`}});if(e.status===200)return console.log(e),p(e.data),e}catch(s){s.response?s.response.data.message:s.message}},g=async s=>{try{let e=d.authToken;const t=await o.get(`https://cosmotrade.live/api//admin/getbankDetails/${s}`,{headers:{Authorization:`Bearer ${e}`}});if(t.status===200)return console.log(t),x(t),t}catch(e){e.response?e.response.data.message:e.message}},m=async(s,e)=>{try{let t=d.authToken;const l=await o.put(`https://cosmotrade.live/api//admin/conformWithdrawRequest/${s}`,{newStatus:e},{headers:{Authorization:`Bearer ${t}`}});if(l.status===200)return console.log(l),l}catch(t){t.response?t.response.data.message:t.message}};return i.useEffect(()=>{A()},[]),a.jsxs("div",{children:[a.jsx(k,{}),a.jsxs("div",{className:"flex-div",children:[a.jsx(v,{}),a.jsx("div",{className:"admin-rightSection",children:h&&h.data.map((s,e)=>a.jsx(c,{children:a.jsxs(c.Item,{eventKey:e,children:[a.jsx(c.Header,{onClick:()=>{g(s.userId),j(s.userId)},children:a.jsxs("div",{className:"admin-Widthdraw-box",children:[a.jsxs("p",{children:["User Id : ",s.userId]}),a.jsxs("p",{children:["Amount : ",s.withdrawAmount]}),a.jsxs("p",{children:["Status : ",s.status]})]})}),a.jsx(c.Body,{children:a.jsxs("div",{className:"flex-div",children:[a.jsxs("div",{className:"admin-withdraw-data",children:[a.jsx("h3",{children:"User Details"}),a.jsxs("p",{children:["UID: ",n&&n.data.data.userDetails.UID]}),a.jsxs("p",{children:["Phone: ",n&&n.data.data.userDetails.phoneNumber]}),a.jsxs("p",{children:["Wallet Amount: ",n&&n.data.data.userDetails.walletAmount]}),a.jsxs("p",{children:["Commission Amount: ",n&&n.data.data.userDetails.commissionAmount]}),a.jsxs("p",{children:["Winning Amount: ",n&&n.data.data.userDetails.winningAmount]}),a.jsxs("p",{children:["Downline Count: ",n&&n.data.data.userDetails.downline.length]})]}),a.jsxs("div",{style:{marginLeft:"6rem"},children:[a.jsx("h3",{children:"Bank Data"}),r&&a.jsxs("div",{className:"admin-withdraw-data",children:[a.jsxs("p",{children:["Account Holder Name: ",r.data.data.accountHolderName]}),a.jsxs("p",{children:["Email: ",r.data.data.email]}),a.jsxs("p",{children:["Bank Name: ",r.data.data.bankName]}),a.jsxs("p",{children:["Account No: ",r.data.data.bankAccountNo]}),a.jsxs("p",{children:["Ifsc Code: ",r.data.data.ifscCode]}),a.jsxs("p",{children:["Branch Address: ",r.data.data.bankBranchAddress]}),a.jsxs("p",{children:["City: ",r.data.data.city]}),a.jsxs("div",{className:"flex-div",children:[a.jsx("button",{onClick:()=>{m(s._id,"confirmed")},className:"prime-approve-btn",children:"Approve"})," ",a.jsx("button",{onClick:()=>{m(s._id,"cancelled")},className:"prime-reject-btn",children:"Reject"})]})]})]})]})})]})},e))})]})]})}export{$ as default};
