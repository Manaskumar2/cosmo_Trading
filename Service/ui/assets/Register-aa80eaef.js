import{R as S,a as P,r as t,u as C,b as k,j as e,L as I}from"./index-b4c16969.js";import{l as B}from"./Cosmo Logo-1a4c0b51.js";import{I as L,_ as d}from"./index-1ae18536.js";import{a as U}from"./axios-4a70c6fc.js";import{U as A}from"./Uid-0cc3357a.js";const _="/assets/computer-650931f8.svg",E="/assets/user-5c129732.svg",m={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function $(){const[T,N]=P(A),[o,u]=t.useState(""),[h,x]=t.useState(""),[i,c]=t.useState(""),[r,p]=t.useState(""),[l,f]=t.useState(!1),[n,g]=t.useState(!1),j=C(),v=k();t.useEffect(()=>{const a=new URLSearchParams(v.search).get("referral");a&&c(a)},[v.search]);const b=()=>{j("/signIn")},w=async s=>{if(s.preventDefault(),!o||!r||!i||!n){d.error("Phone Number, Password, Referral Code, and Agreement are required",{...m});return}try{const a=await U.post("https://cosmotrade.live/api/SignUp",{userName:h,phoneNumber:o,password:r,referralCode:i});if(a.status===201)return d.success("Registration Successful",{...m}),sessionStorage.setItem("password",r),N(a),u(""),p(""),c(""),x(""),g(!1),setTimeout(()=>{j("/registered")},1500),a}catch(a){const R=a.response?a.response.data.message:a.message;d.error(R||"Something went wrong",{...m})}},y=()=>{g(!n)};return e.jsx("div",{className:"desktop",children:e.jsx("div",{className:"register",children:e.jsxs("div",{className:"wrapper",children:[e.jsx("div",{className:"logo-container",children:e.jsx("img",{src:B,alt:"",className:"logo"})}),e.jsxs("div",{className:"signup-container",children:[e.jsx("h3",{className:"title",children:"Register"}),e.jsx(L,{}),e.jsxs("form",{onSubmit:w,className:"container-fluid",children:[e.jsx("div",{className:"inputBox",children:e.jsxs("div",{className:"inputBoxInner",children:[e.jsx("div",{className:"front",children:e.jsx("img",{src:E,alt:""})}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Name",onChange:s=>x(s.target.value),value:h})})]})}),e.jsxs("div",{className:"inputBox",children:[e.jsxs("div",{className:"inputBoxInner",children:[e.jsx("div",{className:"front",children:"+91"}),e.jsx("div",{children:e.jsx("input",{type:"number",placeholder:"Phone Number",onChange:s=>u(s.target.value),value:o})})]}),e.jsx("div",{className:"back-icon",children:e.jsx("i",{className:"icon-mobile"})})]}),e.jsxs("div",{className:"inputBox",children:[e.jsxs("div",{className:"inputBoxInner",children:[e.jsx("div",{className:"front",children:e.jsx("i",{className:"icon-lock"})}),e.jsx("div",{children:e.jsx("input",{type:l?"text":"password",placeholder:"Password",onChange:s=>p(s.target.value),value:r})})]}),e.jsx("div",{className:"back-icon",onClick:()=>f(!l),children:e.jsx("i",{className:"icon-eye"})})]}),e.jsx("div",{className:"inputBox",children:e.jsxs("div",{className:"inputBoxInner",children:[e.jsx("div",{className:"front",children:e.jsx("img",{src:_,alt:""})}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Referral Code",onChange:s=>c(s.target.value),value:i})})]})}),e.jsx("div",{className:"policy",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:n,onChange:y})," ","I Agree ",e.jsx(I,{to:"/terms&condition",children:"Privacy Policy"})]})}),e.jsxs("div",{className:"btn-container",children:[e.jsx("button",{className:"top-btn",type:"submit",disabled:!n,children:"Register"}),e.jsx("button",{className:"bot-btn",onClick:b,children:"Already have an account, Log in"})]})]})]})]})})})}const G=S.memo($);export{G as default,m as toastProps};
