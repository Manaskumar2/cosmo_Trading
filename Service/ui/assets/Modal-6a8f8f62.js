import{g as H,o as pe,s as $,h as Ee,l as Me,t as qe,T as Pe,b as Je,c as b,e as Qe,f as Ze,u as ve,a as et,r as xe,i as tt,j as nt}from"./TransitionWrapper-159d6d05.js";import{r,j as l,i as ot}from"./index-59f4071d.js";import{b as v,u as rt,a as Ae,c as ye}from"./createWithBsPrefix-6094a520.js";import{P as ue}from"./index-016b2e25.js";function st(){return r.useState(null)}function at(e){const t=r.useRef(null);return r.useEffect(()=>{t.current=e}),t.current}const it=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",lt=typeof document<"u",Ne=lt||it?r.useLayoutEffect:r.useEffect;var Z;function Oe(e){if((!Z&&Z!==0||e)&&H){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Z=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Z}function fe(e){e===void 0&&(e=pe());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function ke(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}const ct="data-rr-ui-";function dt(e){return`${ct}${e}`}function ut(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Se=dt("modal-open");class ft{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return ut(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();t.style={overflow:s.style.overflow,[o]:s.style[o]},t.scrollBarWidth&&(n[o]=`${parseInt($(s,o)||"0",10)+t.scrollBarWidth}px`),s.setAttribute(Se,""),$(s,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Se),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Re=ft,De=r.createContext(H?window:void 0);De.Provider;function be(){return r.useContext(De)}const he=(e,t)=>H?e==null?(t||pe()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function ht(e,t){const n=be(),[o,s]=r.useState(()=>he(e,n==null?void 0:n.document));if(!o){const a=he(e);a&&s(a)}return r.useEffect(()=>{t&&o&&t(o)},[t,o]),r.useEffect(()=>{const a=he(e);a!==o&&s(a)},[e,o]),o}function gt({children:e,in:t,onExited:n,mountOnEnter:o,unmountOnExit:s}){const a=r.useRef(null),h=r.useRef(t),g=v(n);r.useEffect(()=>{t?h.current=!0:g(a.current)},[t,g]);const u=Ee(a,e.ref),d=r.cloneElement(e,{ref:u});return t?d:s||!h.current&&o?null:d}function mt({in:e,onTransition:t}){const n=r.useRef(null),o=r.useRef(!0),s=v(t);return Ne(()=>{if(!n.current)return;let a=!1;return s({in:e,element:n.current,initial:o.current,isStale:()=>a}),()=>{a=!0}},[e,s]),Ne(()=>(o.current=!1,()=>{o.current=!0}),[]),n}function pt({children:e,in:t,onExited:n,onEntered:o,transition:s}){const[a,h]=r.useState(!t);t&&a&&h(!1);const g=mt({in:!!t,onTransition:d=>{const p=()=>{d.isStale()||(d.in?o==null||o(d.element,d.initial):(h(!0),n==null||n(d.element)))};Promise.resolve(s(d)).then(p,m=>{throw d.in||h(!0),m})}}),u=Ee(g,e.ref);return a&&!t?null:r.cloneElement(e,{ref:u})}function je(e,t,n){return e?l.jsx(e,Object.assign({},n)):t?l.jsx(pt,Object.assign({},n,{transition:t})):l.jsx(gt,Object.assign({},n))}function Et(e){return e.code==="Escape"||e.keyCode===27}const vt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function yt(e,t){if(e==null)return{};var n={},o=Object.keys(e),s,a;for(a=0;a<o.length;a++)s=o[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}let ge;function Rt(e){return ge||(ge=new Re({ownerDocument:e==null?void 0:e.document})),ge}function bt(e){const t=be(),n=e||Rt(t),o=r.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:r.useCallback(s=>{o.current.dialog=s},[]),setBackdropRef:r.useCallback(s=>{o.current.backdrop=s},[])})}const Le=r.forwardRef((e,t)=>{let{show:n=!1,role:o="dialog",className:s,style:a,children:h,backdrop:g=!0,keyboard:u=!0,onBackdropClick:d,onEscapeKeyDown:p,transition:m,runTransition:C,backdropTransition:ee,runBackdropTransition:_,autoFocus:te=!0,enforceFocus:M=!0,restoreFocus:ne=!0,restoreFocusOptions:oe,renderDialog:K,renderBackdrop:re=c=>l.jsx("div",Object.assign({},c)),manager:se,container:ae,onShow:B,onHide:U=()=>{},onExit:G,onExited:A,onExiting:V,onEnter:z,onEntering:X,onEntered:ie}=e,le=yt(e,vt);const y=be(),x=ht(ae),f=bt(se),Y=rt(),D=at(n),[T,R]=r.useState(!n),E=r.useRef(null);r.useImperativeHandle(t,()=>f,[f]),H&&!D&&n&&(E.current=fe(y==null?void 0:y.document)),n&&T&&R(!1);const q=v(()=>{if(f.add(),O.current=Me(document,"keydown",de),N.current=Me(document,"focus",()=>setTimeout(P),!0),B&&B(),te){var c,Q;const W=fe((c=(Q=f.dialog)==null?void 0:Q.ownerDocument)!=null?c:y==null?void 0:y.document);f.dialog&&W&&!ke(f.dialog,W)&&(E.current=W,f.dialog.focus())}}),L=v(()=>{if(f.remove(),O.current==null||O.current(),N.current==null||N.current(),ne){var c;(c=E.current)==null||c.focus==null||c.focus(oe),E.current=null}});r.useEffect(()=>{!n||!x||q()},[n,x,q]),r.useEffect(()=>{T&&L()},[T,L]),Ae(()=>{L()});const P=v(()=>{if(!M||!Y()||!f.isTopModal())return;const c=fe(y==null?void 0:y.document);f.dialog&&c&&!ke(f.dialog,c)&&f.dialog.focus()}),ce=v(c=>{c.target===c.currentTarget&&(d==null||d(c),g===!0&&U())}),de=v(c=>{u&&Et(c)&&f.isTopModal()&&(p==null||p(c),c.defaultPrevented||U())}),N=r.useRef(),O=r.useRef(),F=(...c)=>{R(!0),A==null||A(...c)};if(!x)return null;const J=Object.assign({role:o,ref:f.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},le,{style:a,className:s,tabIndex:-1});let I=K?K(J):l.jsx("div",Object.assign({},J,{children:r.cloneElement(h,{role:"document"})}));I=je(m,C,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:G,onExiting:V,onExited:F,onEnter:z,onEntering:X,onEntered:ie,children:I});let w=null;return g&&(w=re({ref:f.setBackdropRef,onClick:ce}),w=je(ee,_,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:w})),l.jsx(l.Fragment,{children:ot.createPortal(l.jsxs(l.Fragment,{children:[w,I]}),x)})});Le.displayName="Modal";const Tt=Object.assign(Le,{Manager:Re});function wt(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Ct(e,t){e.classList?e.classList.add(t):wt(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}var Mt=Function.prototype.bind.call(Function.prototype.call,[].slice);function S(e,t){return Mt(e.querySelectorAll(t))}function Be(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function xt(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Be(e.className,t):e.setAttribute("class",Be(e.className&&e.className.baseVal||"",t))}const j={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Nt extends Re{adjustAndStore(t,n,o){const s=n.style[t];n.dataset[t]=s,$(n,{[t]:`${parseFloat($(n,t))+o}px`})}restore(t,n){const o=n.dataset[t];o!==void 0&&(delete n.dataset[t],$(n,{[t]:o}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Ct(n,"modal-open"),!t.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";S(n,j.FIXED_CONTENT).forEach(a=>this.adjustAndStore(o,a,t.scrollBarWidth)),S(n,j.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-t.scrollBarWidth)),S(n,j.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();xt(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";S(n,j.FIXED_CONTENT).forEach(a=>this.restore(o,a)),S(n,j.STICKY_CONTENT).forEach(a=>this.restore(s,a)),S(n,j.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let me;function Ot(e){return me||(me=new Nt(e)),me}const kt={[Qe]:"show",[Ze]:"show"},Fe=r.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:o,...s},a)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},g=r.useCallback((u,d)=>{qe(u),o==null||o(u,d)},[o]);return l.jsx(Pe,{ref:a,addEndListener:Je,...h,onEnter:g,childRef:t.ref,children:(u,d)=>r.cloneElement(t,{...d,className:b("fade",e,t.props.className,kt[u],n[u])})})});Fe.displayName="Fade";const Ie=Fe,St=ye("modal-body"),jt=r.createContext({onHide(){}}),We=jt,$e=r.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:o,size:s,fullscreen:a,children:h,scrollable:g,...u},d)=>{e=ve(e,"modal");const p=`${e}-dialog`,m=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return l.jsx("div",{...u,ref:d,className:b(p,t,s&&`${e}-${s}`,o&&`${p}-centered`,g&&`${p}-scrollable`,a&&m),children:l.jsx("div",{className:b(`${e}-content`,n),children:h})})});$e.displayName="ModalDialog";const He=$e,Bt=ye("modal-footer"),At={"aria-label":ue.string,onClick:ue.func,variant:ue.oneOf(["white"])},Te=r.forwardRef(({className:e,variant:t,"aria-label":n="Close",...o},s)=>l.jsx("button",{ref:s,type:"button",className:b("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...o}));Te.displayName="CloseButton";Te.propTypes=At;const Dt=Te,Lt=r.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:o,children:s,...a},h)=>{const g=r.useContext(We),u=v(()=>{g==null||g.onHide(),o==null||o()});return l.jsxs("div",{ref:h,...a,children:[s,n&&l.jsx(Dt,{"aria-label":e,variant:t,onClick:u})]})}),Ft=Lt,_e=r.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:o=!1,...s},a)=>(e=ve(e,"modal-header"),l.jsx(Ft,{ref:a,...s,className:b(t,e),closeLabel:n,closeButton:o})));_e.displayName="ModalHeader";const It=_e,Wt=e=>r.forwardRef((t,n)=>l.jsx("div",{...t,ref:n,className:b(t.className,e)})),$t=Wt("h4"),Ht=ye("modal-title",{Component:$t});function _t(e){return l.jsx(Ie,{...e,timeout:null})}function Kt(e){return l.jsx(Ie,{...e,timeout:null})}const Ke=r.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:o,contentClassName:s,children:a,dialogAs:h=He,"aria-labelledby":g,"aria-describedby":u,"aria-label":d,show:p=!1,animation:m=!0,backdrop:C=!0,keyboard:ee=!0,onEscapeKeyDown:_,onShow:te,onHide:M,container:ne,autoFocus:oe=!0,enforceFocus:K=!0,restoreFocus:re=!0,restoreFocusOptions:se,onEntered:ae,onExit:B,onExiting:U,onEnter:G,onEntering:A,onExited:V,backdropClassName:z,manager:X,...ie},le)=>{const[y,x]=r.useState({}),[f,Y]=r.useState(!1),D=r.useRef(!1),T=r.useRef(!1),R=r.useRef(null),[E,q]=st(),L=Ee(le,q),P=v(M),ce=et();e=ve(e,"modal");const de=r.useMemo(()=>({onHide:P}),[P]);function N(){return X||Ot({isRTL:ce})}function O(i){if(!H)return;const k=N().getScrollbarWidth()>0,Ce=i.scrollHeight>pe(i).documentElement.clientHeight;x({paddingRight:k&&!Ce?Oe():void 0,paddingLeft:!k&&Ce?Oe():void 0})}const F=v(()=>{E&&O(E.dialog)});Ae(()=>{xe(window,"resize",F),R.current==null||R.current()});const J=()=>{D.current=!0},I=i=>{D.current&&E&&i.target===E.dialog&&(T.current=!0),D.current=!1},w=()=>{Y(!0),R.current=nt(E.dialog,()=>{Y(!1)})},c=i=>{i.target===i.currentTarget&&w()},Q=i=>{if(C==="static"){c(i);return}if(T.current||i.target!==i.currentTarget){T.current=!1;return}M==null||M()},W=i=>{ee?_==null||_(i):(i.preventDefault(),C==="static"&&w())},Ue=(i,k)=>{i&&O(i),G==null||G(i,k)},Ge=i=>{R.current==null||R.current(),B==null||B(i)},Ve=(i,k)=>{A==null||A(i,k),tt(window,"resize",F)},ze=i=>{i&&(i.style.display=""),V==null||V(i),xe(window,"resize",F)},Xe=r.useCallback(i=>l.jsx("div",{...i,className:b(`${e}-backdrop`,z,!m&&"show")}),[m,z,e]),we={...n,...y};we.display="block";const Ye=i=>l.jsx("div",{role:"dialog",...i,style:we,className:b(t,e,f&&`${e}-static`,!m&&"show"),onClick:C?Q:void 0,onMouseUp:I,"aria-label":d,"aria-labelledby":g,"aria-describedby":u,children:l.jsx(h,{...ie,onMouseDown:J,className:o,contentClassName:s,children:a})});return l.jsx(We.Provider,{value:de,children:l.jsx(Tt,{show:p,ref:L,backdrop:C,container:ne,keyboard:!0,autoFocus:oe,enforceFocus:K,restoreFocus:re,restoreFocusOptions:se,onEscapeKeyDown:W,onShow:te,onHide:M,onEnter:Ue,onEntering:Ve,onEntered:ae,onExit:Ge,onExiting:U,onExited:ze,manager:N(),transition:m?_t:void 0,backdropTransition:m?Kt:void 0,renderBackdrop:Xe,renderDialog:Ye})})});Ke.displayName="Modal";const Xt=Object.assign(Ke,{Body:St,Header:It,Title:Ht,Footer:Bt,Dialog:He,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});export{Xt as M};
