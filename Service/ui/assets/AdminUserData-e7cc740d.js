import{f as b,d as k,A as D,r as i,a as N,j as e}from"./index-1e26659f.js";import{A as S,S as _}from"./Side-1596005c.js";import{a as d}from"./axios-4a70c6fc.js";import{I as P,_ as x}from"./index-8fb5d817.js";const w=b({key:"AllUserData",default:null});const u={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function T(){LiveChatWidget.call("hide");const r=k(D),[n,h]=i.useState(1),[c,j]=i.useState(""),[p,I]=i.useState([]),[o,g]=N(w),v=async()=>{try{let t=r.authToken;const s=await d.get("https://cosmotrade.live/api/admin/getAllUsers",{headers:{Authorization:`Bearer ${t}`},params:{queryPageIndex:n,queryPageFilter:c}});if(s.status===200)return console.log(s),g(s),console.log(o),s}catch(t){t.response?t.response.data.message:t.message}},A=async t=>{try{let s=r.authToken;console.log(s);const a=await d.patch(`https://cosmotrade.live/api//admin/activateUser/${t}`,{},{headers:{Authorization:`Bearer ${s}`}});if(a.status===200)return x.success("User Activated",{...u}),console.log(a),a}catch(s){const a=s.response?s.response.data.message:s.message;console.error(a)}},f=async t=>{try{let s=r.authToken;console.log(s);let a=r._id;console.log(a);const l=await d.patch(`https://cosmotrade.live/api//admin/deactivateUser/${t}`,{},{headers:{Authorization:`Bearer ${s}`}});if(l.status===200)return x.success("User Deactivated",{...u}),console.log(l),l}catch(s){const a=s.response?s.response.data.message:s.message;console.error(a)}};i.useEffect(()=>{v()},[n,c,p]);const m=o&&o.data.response.totalPages,y=()=>{n>1&&h(n-1)},U=()=>{n<m&&h(n+1)};return e.jsxs("div",{children:[e.jsx(S,{}),e.jsxs("div",{className:"flex-div",children:[e.jsx(_,{}),e.jsxs("div",{className:"admin-rightSection",children:[e.jsx(P,{}),e.jsx("input",{type:"number",className:"user-input",value:c,onChange:t=>{j(t.target.value)},placeholder:"Search Number / UID"}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{className:"table-row",children:[e.jsx("th",{children:"UID"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Total Downline"}),e.jsx("th",{children:"Total Commission Earned"}),e.jsx("th",{children:"Level"}),e.jsx("th",{children:"Wallet Amount"}),e.jsx("th",{children:"Winning Amount"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:o&&o.data.response.getUsers.map((t,s)=>e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{children:t.UID}),e.jsx("td",{children:t.phoneNumber}),e.jsx("td",{children:t.downline.length}),e.jsx("td",{children:t.commissionAmount}),e.jsx("td",{children:t.level}),e.jsx("td",{children:t.walletAmount.toFixed(2)}),e.jsx("td",{children:t.winningAmount.toFixed(2)}),e.jsxs("td",{children:[e.jsx("button",{onClick:()=>A(t._id),className:"activate",children:"Activate"}),e.jsx("button",{onClick:()=>f(t._id),className:"deactivate",children:"Deactivate"})]})]},s))})]}),e.jsxs("div",{className:"inc-dec-btns",children:[e.jsx("button",{onClick:y,children:"-"}),e.jsxs("div",{children:[n,"/",m]}),e.jsx("button",{onClick:U,children:"+"})]})]})]})]})}export{T as default,u as toastProps};
