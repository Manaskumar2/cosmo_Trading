import{u as j,r,b as v,h as f,j as t}from"./index-2588f213.js";import{A as u,S as N}from"./Side-1df3d515.js";import{a as g}from"./axios-4a70c6fc.js";import{t as b,a as y}from"./arr-08ead214.js";import{I as S}from"./index-87c62b3c.js";import"./setPrototypeOf-e8d3391c.js";import"./warning-619ce91d.js";function P(){const n=j(),[i,o]=r.useState(""),[l,w]=r.useState(1),[c,d]=r.useState(new Date().toISOString().split("T")[0]),[a,m]=r.useState(null),h=v(f),x=async()=>{try{let e=h.authToken;const s=await g.get("https://cosmotrade.live/api/admin/bettingHistory",{params:{date:c,page:l,gameType:i},headers:{Authorization:`Bearer ${e}`}});s.status===200&&(console.log(s.data),m(s.data))}catch(e){e.response?e.response.data.message:e.message}};r.useEffect(()=>{x()},[c,i,l]);const p=()=>a&&a.data?a.data.reduce((e,s)=>e+s.totalBettingAmount,0).toFixed(2):0;return t.jsxs("div",{children:[t.jsx(u,{}),t.jsxs("div",{className:"flex-div",children:[t.jsx(N,{}),t.jsxs("div",{className:"admin-rightSection",children:[t.jsx(S,{}),t.jsxs("div",{className:"container ",children:[t.jsxs("div",{className:"admin-total-head",children:[t.jsxs("div",{children:[" ",t.jsx("h4",{children:"Rise Up & Grow Up Betting History"})]}),t.jsxs("div",{style:{display:"flex",gap:"2rem"},children:[t.jsx("h4",{children:"Search Month : "}),t.jsx(b,{className:"calender-input",selected:new Date(c),onChange:e=>{d(e.toISOString().split("T")[0])},dateFormat:"yyyy-MM",showMonthYearPicker:!0}),t.jsxs("button",{className:"back-btn",onClick:()=>{n("/admin/home")},children:[t.jsx("img",{src:y,alt:""}),t.jsx("p",{children:"Back"})]})]})]}),t.jsxs("div",{className:"profit-tab-btns",children:[t.jsx("div",{className:` ${i===""?"profit-tab-active":"profit-tab"}`,onClick:()=>{o("")},children:"All"}),t.jsx("div",{className:` ${i==="GrowUp"?"profit-tab-active":"profit-tab"}`,onClick:()=>{o("GrowUp")},children:"Grow Up"}),t.jsx("div",{className:` ${i==="RiseUp"?"profit-tab-active":"profit-tab"}`,onClick:()=>{o("RiseUp")},children:"Rise Up"})]}),t.jsxs("div",{className:"container total-table",children:[t.jsxs("div",{className:"total-table-heading row",children:[t.jsx("div",{className:"col-2 text-center",children:"Sl No"}),t.jsx("div",{className:"col-6 text-left ",children:"Date"}),t.jsx("div",{className:"col-4 text-right",children:"Amount"})]}),t.jsx("div",{className:"total-table-parent",children:a&&a.data.map((e,s)=>t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-2 text-center",children:s+1}),t.jsx("div",{className:"col-6 text-left ",children:e._id}),t.jsx("div",{className:"col-4 text-right",children:e.totalBettingAmount.toFixed(2)})]},s))}),a&&t.jsxs("div",{className:"total-profit row",children:[t.jsxs("div",{className:"col-10",children:[" ",t.jsx("h4",{children:"Total Profit : "})," "]}),t.jsxs("div",{className:"col-2",children:[" ",t.jsxs("h4",{children:[" ",p()," "]})," "]})]}),t.jsx("div",{})]})]})]})]})]})}export{P as default};
