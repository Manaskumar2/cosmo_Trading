import{u as I,r as s,d as q,A as $,j as e,L as _}from"./index-43c64abb.js";import{b as P}from"./back-button 1-53e9bab3.js";import{a as C}from"./axios-4a70c6fc.js";import{I as z,_ as r}from"./index-9d96b1fb.js";const E="/assets/bank-account 1-fc84b11f.svg";const c={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function R(){const f=I(),[D,B]=s.useState(null),[d,u]=s.useState(""),[h,m]=s.useState(""),[o,x]=s.useState(""),[b,p]=s.useState(""),[N,j]=s.useState(""),[l,k]=s.useState(""),[y,A]=s.useState(""),[v,g]=s.useState(""),i=q($),S=async()=>{try{let a=i.authToken,t=i._id;const n=await C.get(`https://cosmotrade.live/api/getBankCard/${t}`,{headers:{Authorization:`Bearer ${a}`}});if(n.status===200)return B(n.data.data),n}catch(a){if(a.response.status===403)return f("/signIn"),response;const t=a.response?a.response.data.message:a.message;r.error(t||"Something went wrong",{...c})}},w=async a=>{if(a.preventDefault(),o!==l){r.error("Bank Account Number and Confirm Bank Account No do not match",{...c});return}try{let t=i.authToken;const n=await C.post("https://cosmotrade.live/api/createbankAccount",{bankName:d,accountHolderName:h,bankAccountNo:o,city:b,ifscCode:N,confirmBankAccountNo:l,bankBranchAddress:v},{headers:{Authorization:`Bearer ${t}`}});if(n.status===201)return u(""),m(""),x(""),p(""),j(""),k(""),g(""),r.success("Bank Card Created Successfully!",{...c}),n}catch(t){const n=t.response?t.response.data.message:t.message;r.error(n||"Something went wrong",{...c})}};return s.useEffect(()=>{S()},[]),e.jsxs("div",{className:"bankCard",children:[e.jsx("div",{className:"container-fluid PromoNav",children:e.jsxs("div",{className:"row",children:[e.jsx(_,{to:"/withdraw",className:"col-2",children:e.jsx("img",{src:P,alt:""})}),e.jsx("div",{className:"col-8",children:"Promotion"})]})}),e.jsxs("div",{className:"bankCardbody",children:[e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row bank-card-head",children:[e.jsx("div",{className:"col-2",children:e.jsx("img",{src:E,alt:""})}),e.jsx("div",{className:"col-10",children:"Add Bank Account"})]})}),e.jsx(z,{}),e.jsx("div",{className:"form-container",children:e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"Bank Name"}),e.jsx("input",{type:"text",placeholder:"It is required",value:d,onChange:a=>{u(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"Your Full Name"}),e.jsx("input",{type:"text",placeholder:"It is required",value:h,onChange:a=>{m(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"Bank Account Number"}),e.jsx("input",{type:"text",placeholder:"It is required",value:o,onChange:a=>{x(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"Confirm Bank AccountNo"}),e.jsx("input",{type:"password",placeholder:"It is required",value:l,onChange:a=>{k(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"City"}),e.jsx("input",{type:"text",placeholder:"It is required",value:b,onChange:a=>{p(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"IFSC Code"}),e.jsx("input",{type:"text",placeholder:"It is required",value:N,onChange:a=>{j(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"Phone Number"}),e.jsx("input",{type:"text",placeholder:"It is required",value:y,onChange:a=>{A(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"Bank Branch Address"}),e.jsx("input",{type:"text",placeholder:"It is required",value:v,onChange:a=>{g(a.target.value)}})]}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"row withdraw-Button",children:e.jsx("button",{className:"col-12",type:"submit",children:"Add Bank Card"})})})]})})]})]})}export{R as default,c as toastProps};
