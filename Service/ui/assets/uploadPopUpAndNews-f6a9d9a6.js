import{r as m,d as f,h as j,j as e}from"./index-3a11d011.js";/* empty css                  */import{A as v,S as b}from"./Side-dc1d31dc.js";import{a as r}from"./axios-4a70c6fc.js";import{I as y,_ as o}from"./index-1dd43a52.js";const i={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function I(){const[p,c]=m.useState(null),n=f(j),[l,d]=m.useState(""),u=s=>{const t=s.target.files[0];c(t)},h=async()=>{const s=new FormData;s.append("image",p),console.log(s);try{let t=n.authToken;const a=await r.post("https://cosmotrade.live/api/admin/uploads",s,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});if(a.status===201)return o.success("Image uploaded!",{...i}),c(null),a}catch(t){t.response?t.response.data.message:t.message}},g=async s=>{s.preventDefault();try{let t=n.authToken;const a=await r.post("https://cosmotrade.live/api/admin/articles",{newsText:l},{headers:{Authorization:`Bearer ${t}`}});if(a.status===201)return o.success("News updated!",{...i}),d(""),a}catch(t){t.response?t.response.data.message:t.message}},x=async()=>{try{let s=n.authToken;const t=await r.delete("https://cosmotrade.live/api/admin/deleteImage",{headers:{Authorization:`Bearer ${s}`}});if(t.status===200)return o.success("Pop up image deleted!",{...i}),t}catch(s){s.response?s.response.data.message:s.message}};return e.jsxs("div",{children:[e.jsx(v,{}),e.jsxs("div",{className:"flex-div",children:[e.jsx(b,{}),e.jsxs("div",{className:"admin-rightSection",children:[e.jsx(y,{}),e.jsxs("form",{onSubmit:g,className:"form-rechrge",children:[e.jsx("h3",{className:"text-centre",children:"Submit News"}),e.jsx("label",{children:"Enter Latest news"}),e.jsx("input",{type:"text",value:l,placeholder:"Enter News",onChange:s=>{d(s.target.value)}}),e.jsx("button",{type:"submit",children:"Submit"})]}),e.jsxs("div",{className:"form-rechrge",children:[e.jsx("h3",{className:"text-centre",children:"Upload Promo Image"}),e.jsx("label",{children:"Select Image"}),e.jsx("input",{type:"file",accept:".jpg, .jpeg, .png, .svg",onChange:u}),e.jsx("button",{onClick:h,children:"Submit"}),e.jsx("button",{onClick:x,style:{background:"red"},children:"Delete"})]})]})]})]})}export{I as default,i as toastProps};
