import{u as q,r as s,b as _,A as $,j as e,L as P}from"./index-3900eb01.js";import{b as z}from"./back-button 1-53e9bab3.js";import{a as f}from"./axios-4a70c6fc.js";import{I as E,_ as o}from"./index-4ff9357e.js";const D="/assets/bank-account 1-fc84b11f.svg";const i={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function T(){const B=q();s.useState(null);const[d,A]=s.useState(null),[u,h]=s.useState(""),[m,x]=s.useState(""),[r,b]=s.useState(""),[p,N]=s.useState(""),[j,k]=s.useState(""),[c,v]=s.useState(""),[y,S]=s.useState(""),[g,C]=s.useState(""),l=_($),w=async()=>{try{let a=l.authToken,n=l._id;const t=await f.get("https://cosmotrade.live/api/getBankNames",{headers:{Authorization:`Bearer ${a}`}});if(t.status===200)return A(t.data.data),console.log(t.data.data),t}catch(a){if(a.response.status===403)return B("/signIn"),response;a.response?a.response.data.message:a.message}},I=async a=>{if(a.preventDefault(),r!==c){o.error("Bank Account Number and Confirm Bank Account No do not match",{...i});return}try{let n=l.authToken;const t=await f.post("https://cosmotrade.live/api/createbankAccount",{bankName:u,accountHolderName:m,bankAccountNo:r,city:p,ifscCode:j,confirmBankAccountNo:c,bankBranchAddress:g},{headers:{Authorization:`Bearer ${n}`}});if(t.status===201)return h(""),x(""),b(""),N(""),k(""),v(""),C(""),o.success("Bank Card Created Successfully!",{...i}),t}catch(n){const t=n.response?n.response.data.message:n.message;o.error(t||"Something went wrong",{...i})}};return s.useEffect(()=>{w()},[]),e.jsxs("div",{className:"bankCard",children:[e.jsx("div",{className:"container-fluid PromoNav",children:e.jsxs("div",{className:"row",children:[e.jsx(P,{to:"/withdraw",className:"col-2",children:e.jsx("img",{src:z,alt:""})}),e.jsx("div",{className:"col-8",children:"Promotion"})]})}),e.jsxs("div",{className:"bankCardbody",children:[e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row bank-card-head",children:[e.jsx("div",{className:"col-2",children:e.jsx("img",{src:D,alt:""})}),e.jsx("div",{className:"col-10",children:"Add Bank Account"})]})}),e.jsx(E,{}),e.jsx("div",{className:"form-container",children:e.jsxs("form",{onSubmit:I,children:[e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"Bank Name"}),d&&e.jsx("div",{children:e.jsxs("select",{value:u,className:"drop",onChange:a=>{h(a.target.value)},children:[e.jsx("option",{value:"",children:"Select a Bank"}),d.map(a=>e.jsx("option",{value:a.bankName,children:a.bankName},a.id))]})})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"Your Full Name"}),e.jsx("input",{type:"text",placeholder:"It is required",value:m,onChange:a=>{x(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"Bank Account Number"}),e.jsx("input",{type:"text",placeholder:"It is required",value:r,onChange:a=>{b(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"Confirm Bank AccountNo"}),e.jsx("input",{type:"password",placeholder:"It is required",value:c,onChange:a=>{v(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"City"}),e.jsx("input",{type:"text",placeholder:"It is required",value:p,onChange:a=>{N(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"IFSC Code"}),e.jsx("input",{type:"text",placeholder:"It is required",value:j,onChange:a=>{k(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"Phone Number"}),e.jsx("input",{type:"text",placeholder:"It is required",value:y,onChange:a=>{S(a.target.value)}})]}),e.jsxs("div",{className:"bank-Card-box",children:[e.jsx("label",{className:"label",children:"Bank Branch Address"}),e.jsx("input",{type:"text",placeholder:"It is required",value:g,onChange:a=>{C(a.target.value)}})]}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"row withdraw-Button",children:e.jsx("button",{className:"col-12",type:"submit",children:"Add Bank Card"})})})]})})]})]})}export{T as default,i as toastProps};
