import{r as c,d as f,h as g,j as e}from"./index-f906ecb4.js";/* empty css                  */import{A as j,S as v}from"./Side-929e587e.js";import{a as l}from"./axios-4a70c6fc.js";import{I as S,_ as d}from"./index-b14a3f42.js";const m={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function I(){const[p,n]=c.useState(null),r=f(g),[o,i]=c.useState(""),u=s=>{const t=s.target.files[0];n(t)},h=async()=>{const s=new FormData;s.append("image",p);try{let t=r.authToken;const a=await l.post("https://cosmotrade.live/api/admin/uploads",s,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}});if(a.status===201)return d.success("Image uploaded!",{...m}),n(null),a}catch(t){t.response?t.response.data.message:t.message}},x=async s=>{s.preventDefault();try{let t=r.authToken;const a=await l.post("https://cosmotrade.live/api/admin/articles",{newsText:o},{headers:{Authorization:`Bearer ${t}`}});if(a.status===201)return d.success("News updated!",{...m}),i(""),a}catch(t){t.response?t.response.data.message:t.message}};return e.jsxs("div",{children:[e.jsx(j,{}),e.jsxs("div",{className:"flex-div",children:[e.jsx(v,{}),e.jsxs("div",{className:"admin-rightSection",children:[e.jsx(S,{}),e.jsxs("form",{onSubmit:x,className:"form-rechrge",children:[e.jsx("h3",{className:"text-centre",children:"Submit News"}),e.jsx("label",{children:"Enter Latest news"}),e.jsx("input",{type:"text",value:o,placeholder:"Enter News",onChange:s=>{i(s.target.value)}}),e.jsx("button",{type:"submit",children:"Submit"})]}),e.jsxs("div",{className:"form-rechrge",children:[e.jsx("h3",{className:"text-centre",children:"Upload Promo Image"}),e.jsx("label",{children:"Select Image"}),e.jsx("input",{type:"file",accept:".jpg, .jpeg, .png, .svg",onChange:u}),e.jsx("button",{onClick:h,children:"Submit"})]})]})]})]})}export{I as default,m as toastProps};
