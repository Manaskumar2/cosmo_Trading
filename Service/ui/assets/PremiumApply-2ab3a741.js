import{r as n,d as m,A as x,j as e,L as A}from"./index-be84e0db.js";import{M as b}from"./index-c5774a87.js";import{b as v}from"./back-button 1-53e9bab3.js";import{I as D,_ as d}from"./index-fa9b3787.js";import{a as f}from"./axios-4a70c6fc.js";import{P as k}from"./Premium-e2d22d9c.js";/* empty css                        */import"./index-43f75156.js";import"./react-lifecycles-compat.es-22c986ff.js";const u={position:"top-center",duration:2e3,style:{fontSize:"1rem",background:"#fff",color:"#333"}};function _(){const[r,j]=n.useState(null),p=m(x),[g,i]=n.useState(!1),P=m(x),a=m(k),[l,c]=n.useState(null);n.useEffect(()=>{if(a&&a.data&&a.data.data){const s=a.data.data.length;s<50?c(1e4):s>=50&&s<100?c(2e4):c(3e4)}},[a]);const y=async()=>{try{let s=p.UID,t=p.authToken;const o=await f.get(`https://cosmotrade.live/api//getUserProfile/${s} `,{headers:{Authorization:`Bearer ${t}`}});if(o.status===200)return j(o.data),console.log(o.data),i(!0),o}catch(s){const t=s.response?s.response.data.message:s.message;console.log(t),d.error(t||"Something went wrong",{...u})}},N=async()=>{try{let s=P.authToken;const t=await f.post("https://cosmotrade.live/api//applyPremium",{amount:l},{headers:{Authorization:`Bearer ${s}`}});if(t.status===201)return console.log(t),d.success("Application sent for Premium User",{...u}),i(!1),t}catch(s){const t=s.response?s.response.data.message:s.message;d.error(t||"Something went wrong",{...u})}},h=()=>{i(!1)};return e.jsxs("div",{className:"PremiumApply",children:[e.jsxs("div",{className:"container ProNav",children:[e.jsxs("div",{className:"row",children:[e.jsx(A,{to:"/profile",className:"col-2",children:e.jsx("img",{src:v,alt:""})}),e.jsx("div",{className:"col-8",children:"Prime Membership"})]}),e.jsx(D,{})]}),e.jsxs("div",{className:"Premium-Body",children:[e.jsx("p",{children:"Transaction Amount"}),e.jsx("input",{type:"text",value:l,disabled:!0}),e.jsx("button",{onClick:()=>{y()},className:"premiumApply-Submit",children:"Submit"})]}),e.jsx(b,{isOpen:g,onRequestClose:h,children:e.jsxs("div",{className:"modal-body-w2w",children:[e.jsx("div",{children:r&&e.jsxs("div",{className:"userDetaisW2W",children:[e.jsx("h4",{children:"I Want To Upgrade As A Premium User"}),e.jsxs("p",{children:["Name: ",r.data.userDetails.name]}),e.jsxs("p",{children:["UID: ",r.data.userDetails.UID]}),e.jsxs("p",{children:["Phone no: ",r.data.userDetails.phoneNumber]}),e.jsxs("p",{children:["Amount: ",l]})]})}),e.jsx("button",{className:"confirm",onClick:N,children:"Go To Premium"}),e.jsx("button",{className:"close",onClick:h,children:"Close"})]})})]})}export{_ as default,u as toastProps};
